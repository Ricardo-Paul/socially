(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{182:function(e){e.exports={name:"SOCIALLY",version:"1.0.0"}},279:function(e,t,a){e.exports=a.p+"static/media/background2.986d82ee.jpg"},287:function(e,t,a){e.exports=a(312)},312:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),l=a(23),c=a(11),i=a(33),s=a(283),u=a(88),m=a(269),d=a(268),A=a(44),f=function(){return new u.ApolloLink(function(e,t){var a;new A.a(function(n){return Promise.resolve(e).then(function(e){return function(e){var t=localStorage.getItem("token");e.setContext({headers:{authorization:t}})}(e)}).then(function(){a=t(e).subscribe({next:n.next.bind(n),complete:n.complete.bind(n),error:n.bind(n)})}).catch(n.error.bind(n)),function(){a&&a.unsubscribe()}})})},p=a(264),g=a(266),b=a(7),E=Object(p.a)(function(e,t){var a=t.headers,n=localStorage.getItem("token");if(n)return{headers:Object(i.a)(Object(i.a)({},a),{},{authorization:n})}}),h=a(184),v=a(31),O=a(36),j=a(9),w=a(13),y="/home",x="/message/:id",k="/profile/:username",C=a(235),I=a(193),P=a(263),N=a(79),S=a(209),D={user:null},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_USER":return Object(i.a)(Object(i.a)({},e),{},{user:t.payload});case"CLEAR_AUTH_USER":return Object(i.a)(Object(i.a)({},e),D);default:return D}},z={message:""},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_MESSAGE":return Object(i.a)(Object(i.a)({},e),{},{message:t.payload});case"CLEAR_USER_MESSAGE":return Object(i.a)(Object(i.a)({},e),z);default:return z}},Q=Object(r.createContext)(),T={auth:D,message:z},U=function(e,t){return{auth:R(e.auth,t),message:F(e.message,t)}},M=function(e){var t=e.children;return o.a.createElement(Q.Provider,{value:Object(r.useReducer)(U,T)},t)},L=function(){return Object(r.useContext)(Q)},B=a(248),H=a(271),q=a.n(H),G=a(272),W=a.n(G),Y=a(273),J=a.n(Y),K=a(274),$=a.n(K),Z=a(275),V=a.n(Z),X=a(276),_=a.n(X),ee=a(92),te=a(210),ae=a(240),ne=a(2),re=a(16),oe={background:{dark:"#F4F6F8",default:re.colors.common.white,paper:re.colors.common.white},primary:{main:re.colors.indigo[500]},secondary:{main:re.colors.indigo[500]},text:{primary:re.colors.blueGrey[900],secondary:re.colors.blueGrey[600]}},le=Object(C.a)(function(e){return{item:{display:"flex",paddingTop:0,paddingBottom:0},button:{color:oe.text.secondary,fontWeight:e.typography.fontWeightMedium,width:"100%",padding:"10px 8px",justifyContent:"flex-start",textTransform:"none",letterSpacing:.1},icon:{marginRight:e.spacing(1)},title:{marginRight:"auto"},active:{color:"#fdfdfd",backgroundColor:"#505050"}}}),ce=function(e){var t=e.icon,a=e.title,n=e.href,r=e.className,l=Object(ee.a)(e,["icon","title","href","className"]),c=le();return o.a.createElement(te.a,Object.assign({disableGutters:!0,className:Object(ne.a)(c.item,r)},l),o.a.createElement(ae.a,{component:v.c,to:n,className:c.button,activeClassName:c.active},t&&o.a.createElement(t,{className:c.icon}),o.a.createElement("span",{className:c.title},a)))},ie=Object(C.a)(function(e){return{name:{fontWeight:500,fontSize:16,fontFamily:"roboto"},avatar:{width:64,height:64,cursor:"pointer"}}}),se=function(){var e,t=ie(),a=L(),n=Object(j.a)(a,1)[0].auth,r=[{title:"Home",icon:q.a,to:y},{title:"Browse Feed",icon:W.a,to:"/browse"},{title:"People",icon:J.a,to:"/people"},{title:"Notifications",icon:$.a,to:"/notifications"},{title:"Messages",icon:V.a,to:x},{title:"About",icon:_.a,to:"/about"}].map(function(e,t){return o.a.createElement(ce,{key:t,icon:e.icon,title:e.title,href:e.to})});return o.a.createElement(o.a.Fragment,null,o.a.createElement(I.a,{height:"100%",display:"flex",flexDirection:"column"},o.a.createElement(I.a,{display:"flex",flexDirection:"column",alignItems:"center",p:2},o.a.createElement(P.a,{src:n.user?n.user.image:null,component:v.c,className:t.avatar,to:y}),o.a.createElement(N.a,(e={variant:"primary",color:"textPrimary"},Object(w.a)(e,"variant","h6"),Object(w.a)(e,"className",t.name),e),n.user?n.user.fullName:null),o.a.createElement(N.a,{color:"textSecondary"},"Software Developer")),o.a.createElement(B.a,null),o.a.createElement(I.a,{p:2},o.a.createElement(S.a,null,r))))},ue=a(114),me=Object(ue.a)({palette:{primary:{main:"#1a237e"},secondary:{main:"#c5cae9"}},screen:{xs:540,sm:640,md:1007,lg:1100,xl:1230}}),de=(n={darkGrey:"#424242",lighRed:"#ff5722",black:"black",indigo9:"#1a237e",indigo8:"#283593",indigo6:"#3949ab",indigo4:"#5c6bc0",indigo1:"#c5cae9",indigo0:"#e8eaf6",white:"white"},Object(w.a)(n,"black","black"),Object(w.a)(n,"lightGrey","#e0e0e0"),n),Ae={LIGHT:{primary:{main:"#000000",dark:"",light:""},secondary:{main:"#a7a6a6",dark:"#888584",light:"#d8d8d847"}}},fe=a(262),pe=a(249),ge=a(21),be=a.n(ge),Ee=a(32),he=a(278),ve=a.n(he),Oe=a(25);function je(){var e=Object(Oe.a)(["\n    query($userId: ID!, $skip: Int, $limit: Int){\n        getFollowedPosts(userId: $userId, skip: $skip, limit: $limit){\n            count\n            posts {\n                id\n                title\n                image\n                imagePublicId\n                createdAt\n                ","\n                ","\n                ","\n            }\n        }\n    }\n"]);return je=function(){return e},e}function we(){var e=Object(Oe.a)(["\n    mutation($input: DeletePostInput!){\n        deletePost(input: $input){\n            id\n        }\n    }\n"]);return we=function(){return e},e}function ye(){var e=Object(Oe.a)(["\n    mutation($input: CreatePostInput!){\n        createPost(input: $input){\n            title\n            id\n        }\n    }\n"]);return ye=function(){return e},e}var xe=Object(c.gql)(ye()),ke=Object(c.gql)(we()),Ce=Object(c.gql)(je(),"\n    author {\n        id\n        username\n        image\n        fullName\n        followers{\n            id\n            follower\n            following\n        }\n        notifications {\n            id\n            seen\n            like{\n             id\n            }\n            comment{\n             id\n            }\n            follow{\n             id\n            }\n        }\n    }\n","\ncomments {\n    id\n    comment\n    author {\n        id\n        username\n        fullName\n        image\n    }\n}\n","\n    likes {\n        id\n        user{\n         id\n         fullName\n        }\n    }\n"),Ie=a(237),Pe=a(277),Ne=a.n(Pe),Se=Object(C.a)({input:{display:"none"},avatar:Object(w.a)({color:"#ffffff",backgroundColor:"#7c7d82",width:50,height:50,borderRadius:5,padding:15},me.breakpoints.down("sm"),{padding:3,margin:0,borderRadius:2})}),De=function(e){var t=e.handleImageChange,a=Se();return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{type:"file",onChange:t,accept:"image/x-png,image/jpeg",id:"post-image",className:a.input}),o.a.createElement("label",{htmlFor:"post-image"},o.a.createElement(Ie.a,{onClick:function(){document.getElementById("post-image").click()},className:a.avatar},o.a.createElement(Ne.a,null))))},Re=Object(C.a)({container:{width:150,height:150,position:"relative",borderRadius:5},image:{position:"absolute",width:"100%",height:"100%",objectFit:"cover"}}),ze=function(e){var t=e.imageSource,a=Re();return o.a.createElement("div",{className:a.container},o.a.createElement("img",{src:t,className:a.image}))};function Fe(){var e=Object(Oe.a)(["\n  query($username: String, $userId: ID){\n    getUser(username: $username, userId: $userId){\n      image\n      username\n      fullName\n      isOnline\n    }\n  }\n"]);return Fe=function(){return e},e}function Qe(){var e=Object(Oe.a)(["\n  mutation($input:UploadUserPhotoInput!){\n    uploadUserPhoto(input: $input){\n      fullName\n      username\n      email\n      image\n    }\n  }\n"]);return Qe=function(){return e},e}function Te(){var e=Object(Oe.a)(["\n  query($userId: ID!){\n    suggestPeople(userId: $userId){\n      count\n      users{\n        fullName\n        username\n        image\n      }\n    }\n  }\n"]);return Te=function(){return e},e}function Ue(){var e=Object(Oe.a)(["\nquery($userId: ID!, $skip: Int, $limit: Int){\n  getUsers(userId: $userId, skip: $skip, limit: $limit){\n    count\n    users{\n      id\n      fullName\n      username\n      email\n      image\n      following{\n        id\n        follower\n      }\n      followers{\n        id\n        follower\n      }\n    }\n  }\n}\n"]);return Ue=function(){return e},e}function Me(){var e=Object(Oe.a)(["\nquery{\n  getAuthUser{\n    id\n    fullName\n    email\n    username\n    image\n    posts{\n      id\n    }\n    following{\n      id\n    }\n    followers{\n      id\n    }\n    likes{\n      id\n    }\n    notifications{\n      id\n      sender{\n        id\n        fullName\n        username\n        image\n      }\n      follow{\n        id\n      }\n      like{\n        id\n        post{\n          id\n          image\n        }\n      }\n      comment{\n        id\n        post{\n          id\n          image\n        }\n      }\n    }\n  }\n}\n"]);return Me=function(){return e},e}function Le(){var e=Object(Oe.a)(["\nmutation ($input: ResetPasswordInput!){\n  resetPassword(input: $input){\n    token\n  }\n}\n"]);return Le=function(){return e},e}function Be(){var e=Object(Oe.a)(["\n  query($email: String!, $token: String!){\n    verifyResetPasswordToken(email: $email, token: $token){\n      message\n    }\n  }\n"]);return Be=function(){return e},e}function He(){var e=Object(Oe.a)(["\n  mutation($input: PassResetInput!){\n    requestPassReset(input: $input){\n      message\n    }\n  }\n"]);return He=function(){return e},e}function qe(){var e=Object(Oe.a)(["\n  mutation($input: SigninInput!) {\n    signin(input: $input) {\n      signinToken\n    }\n  }\n"]);return qe=function(){return e},e}function Ge(){var e=Object(Oe.a)(["\n  mutation($input: SignupInput!) {\n    signup(input: $input) {\n        signupToken\n    }\n  }\n"]);return Ge=function(){return e},e}var We=Object(c.gql)(Ge()),Ye=Object(c.gql)(qe()),Je=Object(c.gql)(He()),Ke=Object(c.gql)(Be()),$e=Object(c.gql)(Le()),Ze=Object(c.gql)(Me()),Ve=Object(c.gql)(Ue()),Xe=Object(c.gql)(Te()),_e=Object(c.gql)(Qe()),et=(Object(c.gql)(Fe()),Object(C.a)(function(e){return{container:Object(w.a)({borderColor:"#afafaf",display:"flex",flexDirection:"column",backgroundColor:de.white,padding:5},e.breakpoints.down("sm"),{padding:0}),row1:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},avatar:{padding:5,color:de.lighRed},textarea:Object(w.a)({marginLeft:10,marginRight:10,width:"100%",height:50,outline:"none",border:"1px solid #d0d0d0",paddingTop:10,paddingLeft:15,backgroundColor:"#efefef"},e.breakpoints.down("sm"),{margin:0,width:"100%",height:50,paddingTop:5,paddingLeft:5}),uploadIcon:{padding:5,color:"white"},buttons:Object(w.a)({marginTop:10,display:"flex",flexDirection:"row",justifyContent:"flex-end"},e.breakpoints.down("sm"),{margin:2})}})),tt=function(){var e=Object(r.useState)(null),t=Object(j.a)(e,2),a=t[0],n=t[1],l=Object(r.useState)(""),i=Object(j.a)(l,2),s=i[0],u=i[1],m=Object(r.useState)(""),d=Object(j.a)(m,2),A=d[0],f=d[1],p=Object(r.useState)(""),g=Object(j.a)(p,2),b=g[0],E=g[1],h=L(),v=Object(j.a)(h,1)[0].auth,O=et(),w=Object(c.useMutation)(xe,{refetchQueries:[{query:Ze},{query:Ce,variables:{userId:v.user.id,limit:10}}]}),y=Object(j.a)(w,2),x=y[0],k=y[1].loading,C=k||!k&&!s&&!A,N=function(){n(!1),u(""),f("")},S=function(){var e=Object(Ee.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s||A){e.next=2;break}return e.abrupt("return");case 2:return t.preventDefault(),e.prev=3,e.next=6,x({variables:{input:{title:s,authorId:v.user.id,image:A}}});case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0);case 12:N();case 13:case"end":return e.stop()}},e,null,[[3,9]])}));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{onSubmit:function(e){return S(e,x)}},o.a.createElement(I.a,{border:1,className:O.container},o.a.createElement("div",{className:O.row1},o.a.createElement("div",{className:O.avatar},o.a.createElement(P.a,{src:v.user.image})),o.a.createElement("textarea",{className:O.textarea,placeholder:"What's on your mind...",value:s,onChange:function(e){return u(e.target.value)},focused:a,onFocus:function(){return n(!0)}}),o.a.createElement("div",{className:O.uploadIcon},o.a.createElement(De,{handleImageChange:function(e){var t=e.target.files[0];t&&(t.size>=3e6&&E("Image is size should not exceed ".concat(3," mb")),f(t))}}))),A&&o.a.createElement(ze,{imageSource:URL.createObjectURL(A)}),b,a&&o.a.createElement("div",{className:O.buttons},o.a.createElement(ae.a,{color:"secondary",size:"small",onClick:N,variant:"outlined"},s||A?"CANCEL":"CLOSE"),o.a.createElement(ae.a,{color:"secondary",size:"small",startIcon:o.a.createElement(ve.a,null),variant:"contained",style:{marginLeft:5},type:"submit",disabled:C},"SHARE")))))},at=a(257),nt=a(241),rt=a(242),ot=a(244),lt=a(325),ct=a(326),it=a(243),st=a(245),ut=a(126),mt=a(320),dt=a(321),At=a(322);function ft(){var e=Object(Oe.a)(["\n    mutation($input: DeleteFollowInput!){\n        deleteFollow(input: $input){\n            id\n        }\n    }\n"]);return ft=function(){return e},e}function pt(){var e=Object(Oe.a)(["\n    mutation($input: CreateFollowInput!){\n        createFollow(input: $input){\n            id\n        }\n    }\n"]);return pt=function(){return e},e}var gt=Object(c.gql)(pt()),bt=Object(c.gql)(ft()),Et=function(e){var t=e.user,a=e.icon,n=L(),r=Object(j.a)(n,1)[0].auth,l=t.followers.find(function(e){return e.follower===r.user.id}),s=l?"delete":"create",u={create:{mutation:gt,variables:{currentUserId:r.user.id,followedUserId:t.id}},delete:{mutation:bt,variables:{followId:l?l.id:null}}},m=Object(c.useMutation)(u[s].mutation,{refetchQueries:[{query:Ce,variables:{userId:r.user.id,skip:0,limit:10}},{query:Ze},{query:Ve,variables:{userId:r.user.id}},{query:Xe,variables:{userId:r.user.id}}]}),d=Object(j.a)(m,1)[0],A=function(){var e=Object(Ee.a)(be.a.mark(function e(){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("USER",t),console.log("ISFOLLOWING",l),e.prev=2,e.next=5,d({variables:{input:Object(i.a)({},u[s].variables)}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[2,7]])}));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ae.a,{variant:"contained",color:l?"primary":"secondary",size:"small",onClick:A,fullWidth:!0},a&&o.a.createElement(a,{style:{marginRight:10}}),l?"Unfollow":"Follow"))},ht=function(e){var t=e.closeMenu,a=e.postId,n=e.postAuthor,r=e.deletePost,l=L(),c=Object(j.a)(l,1)[0].auth,i={fontSize:12},s=n.id===c.user.id;return o.a.createElement(o.a.Fragment,null,o.a.createElement(st.a,{onClickAway:t},o.a.createElement(ut.a,{elevation:3,style:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},o.a.createElement(ae.a,{style:i,onClick:function(){var e="".concat("CLIENT_URL").concat(Object(O.f)("/post/:id",{id:a}));navigator.clipboard.writeText(e),t()}}," ",o.a.createElement(mt.a,{style:{marginRight:10}}),"Copy URL"),s&&o.a.createElement(ae.a,{style:i,onClick:r}," ",o.a.createElement(dt.a,{style:{marginRight:10}}),"Delete"),!s&&o.a.createElement(Et,{user:n,icon:At.a}))))},vt=a(259);function Ot(){var e=Object(Oe.a)(["\n    mutation($input: DeleteCommentInput!){\n        deleteComment(input: $input){\n            id\n        }\n    }\n"]);return Ot=function(){return e},e}function jt(){var e=Object(Oe.a)(["\n    mutation($input: CreateCommentInput!){\n        createComment(input: $input){\n            id\n        }\n    }\n"]);return jt=function(){return e},e}var wt=Object(c.gql)(jt()),yt=Object(c.gql)(Ot()),xt=a(323),kt=Object(C.a)({textField:Object(w.a)({marginRight:5,paddingTop:10,paddingLeft:15},me.breakpoints.down("sm"),{marginBottom:2}),form:Object(w.a)({padding:5,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},me.breakpoints.down("sm"),{}),button:Object(w.a)({},me.breakpoints.down("sm"),{})}),Ct=function(e){var t,a=e.focus,n=e.postId,r=kt(),l=o.a.useRef(null),i=o.a.useRef(null),s=o.a.useState(""),u=Object(j.a)(s,2),m=u[0],d=u[1],A=L(),f=Object(j.a)(A,1)[0].auth,p=Object(c.useMutation)(wt,{refetchQueries:[{query:Ze},{query:Ce,variables:{userId:f.user.id,limit:10}}]}),g=Object(j.a)(p,2),b=g[0],E=(g[1].loading,function(){var e=Object(Ee.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,b({variables:{input:{comment:m,authorId:f.user.id,postId:n}}});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:d("");case 10:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}());return o.a.useEffect(function(){a&&l.current.focus()},[a]),o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{onSubmit:E,className:r.form},o.a.createElement(vt.a,{inputRef:l,multiline:!0,fullWidth:!0,className:r.textField,onChange:function(e){return d(e.target.value)},onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),i.current.click(),d(""))},value:m,placeholder:"comment..."}),o.a.createElement(Ie.a,(t={size:"small",variant:"contained",className:r.button,color:"primary",type:"submit",ref:i},Object(w.a)(t,"type","submit"),Object(w.a)(t,"disabled",!m.trim()),t),o.a.createElement(xt.a,null))))},It=a(324);function Pt(){var e=Object(Oe.a)(["\n    mutation($input: DeleteLikeInput!){\n        deleteLike(input: $input){\n            id\n        }\n    }\n"]);return Pt=function(){return e},e}function Nt(){var e=Object(Oe.a)(["\n    mutation($input: CreateLikeInput!){\n        createLike(input: $input){\n            id\n        }\n    }\n"]);return Nt=function(){return e},e}var St,Dt,Rt,zt=Object(c.gql)(Nt()),Ft=Object(c.gql)(Pt()),Qt=function(e){var t=e.likes,a=e.postId,n=e.author,r=L(),l=Object(j.a)(r,1)[0].auth,s=t.find(function(e){return e.user.id===l.user.id}),u=s?"delete":"create",m={create:{mutation:zt,variables:{postId:a,userId:l.user.id,authorId:n.id}},delete:{mutation:Ft,variables:{likeId:s?s.id:null}}},d=Object(c.useMutation)(m[u].mutation,{refetchQueries:[{query:Ce,variables:{userId:l.user.id,limit:10}}]}),A=Object(j.a)(d,1)[0],f=function(){var e=Object(Ee.a)(be.a.mark(function e(){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A({variables:{input:Object(i.a)({},m[u].variables)}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(){return e.apply(this,arguments)}}();return o.a.createElement(Ie.a,{onClick:function(){return f(A)}},o.a.createElement(It.a,{style:{color:s?"#0b80ef":"#d4d4d4"}}))},Tt=a(252),Ut=a(254),Mt=a(253),Lt=function(e){var t=e.comments,a=(e.userAvatar,e.closeComments),n=L(),l=Object(j.a)(n,1)[0].auth,i=Object(c.useMutation)(yt,{refetchQueries:[{query:Ze},{query:Ce,variables:{userId:l.user.id,limit:10}}]}),s=Object(j.a)(i,1)[0],u=function(){var e=Object(Ee.a)(be.a.mark(function e(t){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s({variables:{input:{commentId:t}}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(st.a,{onClickAway:a},o.a.createElement(S.a,null,t.reverse().map(function(e){return o.a.createElement(te.a,{key:e.id},o.a.createElement(Tt.a,null,o.a.createElement(P.a,{alt:"user avatar",src:e.author.image})),o.a.createElement(Ut.a,{primary:e.author.fullName,secondary:o.a.createElement(r.Fragment,null,o.a.createElement(N.a,{component:"span",variant:"body2"}),e.comment)}),o.a.createElement(Mt.a,null,l.user.id===e.author.id&&o.a.createElement(Ie.a,{onClick:function(){return u(e.id)}},o.a.createElement(dt.a,null))))}),t.length>1&&o.a.createElement(B.a,{variant:"inset",component:"li"})))},Bt=Object(C.a)({card:Object(w.a)({marginTop:20,maxWidth:"100%",boxShadow:"rgba(0, 0, 0, 0.3) 0px 1px 8px 0px"},me.breakpoints.down("sm"),{maxWidth:"100%"}),cardData:{display:"flex",justifyContent:"space-between",paddingLeft:10,paddingRight:10},icons:{paddingX:0,display:"flex",justifyContent:"space-between",paddingLeft:10,paddingRight:10},media:(St={},Object(w.a)(St,me.breakpoints.up("xl"),{height:600}),Object(w.a)(St,me.breakpoints.down("sm"),{height:300}),Object(w.a)(St,"height",400),Object(w.a)(St,"objectFit","cover"),St),footer:{position:"relative"}}),Ht=function(e){var t=e.title,a=e.fullName,n=e.image,r=e.avatar,l=e.openModal,i=e.likeNumber,s=e.commentNumber,u=e.likes,m=e.postId,d=e.postAuthor,A=e.imagePublicId,f=e.comments,p=Bt(),g=L(),b=Object(j.a)(g,1)[0].auth,E=o.a.useState(null),h=Object(j.a)(E,2),v=h[0],O=h[1],w=Boolean(v),y=o.a.useState(!1),x=Object(j.a)(y,2),k=x[0],C=x[1],I=Object(c.useMutation)(ke,{refetchQueries:[{query:Ze},{query:Ce,variables:{userId:b.user.id,limit:10}}]}),N=Object(j.a)(I,1)[0],S=function(){var e=Object(Ee.a)(be.a.mark(function e(){return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N({variables:{input:{id:m,imagePublicId:A}}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:O(null);case 9:case"end":return e.stop()}},e,null,[[0,5]])}));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(at.a,{open:w,anchorEl:v,placement:"bottom-end"},o.a.createElement(ht,{closeMenu:function(){return O(null)},postId:m,postAuthor:d,imagePublicId:A,deletePost:S})),o.a.createElement(nt.a,{className:p.card},o.a.createElement(it.a,{className:p.header,avatar:o.a.createElement(P.a,{alt:"user photo",src:r}),title:a,action:o.a.createElement(Ie.a,{onClick:function(e){O(v?null:e.currentTarget)}},o.a.createElement(lt.a,null)),subheader:"5 hours ago"}),o.a.createElement(rt.a,null,t),n&&o.a.createElement(ot.a,{className:p.media,image:n,onClick:l}),o.a.createElement("div",{className:p.footer},o.a.createElement("div",{className:p.cardData},o.a.createElement("h5",null," ",i," ",i>1?"likes":"like"," "),o.a.createElement("h5",null," ",s," ",s>1?"comments":"comment"," ")),o.a.createElement(B.a,null),o.a.createElement("div",{className:p.icons},o.a.createElement(Qt,{likes:u,postId:m,author:d}),o.a.createElement(Ie.a,{onClick:function(){return C(!k)}},o.a.createElement(ct.a,null))),k&&o.a.createElement(Lt,{comments:f,closeComments:function(){return C(!1)}}),k&&o.a.createElement(Ct,{postId:m,focus:k}))))},qt=a(16),Gt=qt.Container,Wt=qt.withStyles,Yt=Wt({root:Object(w.a)({marginTop:"80px"},me.breakpoints.down("xs"),{marginTop:65})})(Gt),Jt=(Wt({postion:"fixed",width:"100%",top:0,bottom:0,left:0,right:0,zIndex:100,backgroundColor:"rgba(0,0,0,0.8)"}),function(){return o.a.createElement("h5",null," confirm ")}),Kt=Object(C.a)({overlay:{position:"fixed",width:"100%",top:0,bottom:0,left:0,right:0,zIndex:100,backgroundColor:"rgba(0,0,0,0.8)"}}),$t=function(e){var t=e.open,a=e.children,n=(e.onClose,e.type),r=Object(ee.a)(e,["open","children","onClose","type"]),l=Kt();return t?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:l.overlay},"confirm"===n?o.a.createElement(Jt,r):a)):null},Zt=a(327),Vt=Object(C.a)({paper:(Dt={maxHeight:"80%",overflow:"auto"},Object(w.a)(Dt,me.breakpoints.up("lg"),{top:"55%"}),Object(w.a)(Dt,"top","50%"),Object(w.a)(Dt,"left","50%"),Object(w.a)(Dt,"transform","translate(-50%, -50%)"),Object(w.a)(Dt,"position","absolute"),Object(w.a)(Dt,"maxWidth","50%"),Object(w.a)(Dt,"zIndex",900),Object(w.a)(Dt,me.breakpoints.down("sm"),{maxWidth:"100%",width:"100%"}),Dt),card:{height:"100%"},mediaContainer:(Rt={height:400},Object(w.a)(Rt,me.breakpoints.up("xl"),{height:600}),Object(w.a)(Rt,me.breakpoints.down("sm"),{height:300}),Object(w.a)(Rt,"width","95%"),Object(w.a)(Rt,"backgroundColor","blue"),Object(w.a)(Rt,"margin","0 auto"),Rt),media:Object(w.a)({width:"100%",height:"100%",objectFit:"cover"},me.breakpoints.down("sm"),{height:"100%",width:"100%"})}),Xt=function(e){var t=e.closeModal,a=e.postImage,n=e.comments,r=e.author,l=e.postTitle,c=e.createdAt,i=Vt();return o.a.createElement(st.a,{onClickAway:t},o.a.createElement(ut.a,{className:i.paper},o.a.createElement(nt.a,{className:i.card},o.a.createElement(it.a,{avatar:o.a.createElement(P.a,null,"A"),action:o.a.createElement(Ie.a,{onClick:t},o.a.createElement(Zt.a,null)),title:r,subheader:c}),o.a.createElement(rt.a,null," ",l," "),o.a.createElement("div",{className:i.mediaContainer},o.a.createElement("img",{src:a,alt:"post image",className:i.media})),o.a.createElement(Lt,{comments:n,closeComments:t}))))},_t=a(91),ea=a.n(_t),ta=Object(C.a)(function(e){return{item:{display:"flex",flexDirection:"row",justifyContent:"flex-start",padding:5,border:"0.1px #afafaf",cursor:"pointer","&:hover":{backgroundColor:"#efefef"}},name:{fontSize:"16px",fontFamily:"roboto",fontWeight:500}}}),aa=function(){var e=Object(c.useApolloClient)(),t=L(),a=Object(j.a)(t,1)[0].auth,n=o.a.useState([]),r=Object(j.a)(n,2),l=r[0],i=r[1],s=ta();return o.a.useEffect(function(){!function(){var t=Object(Ee.a)(be.a.mark(function t(){var n,r;return be.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.query({query:Xe,variables:{userId:a.user.id}});case 3:n=t.sent,r=n.data,i(r.suggestPeople.users),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(){return t.apply(this,arguments)}}()()},[a]),!l.length>0?null:o.a.createElement(I.a,{border:1,style:{width:"80%",borderColor:"#afafaf"}},o.a.createElement("h4",{style:{paddingLeft:10}}," USER SUGGESTIONS "),o.a.createElement(B.a,null),o.a.createElement(S.a,{style:{padding:0}},l.map(function(e){return o.a.createElement(te.a,{disableGutters:!0,className:s.item},o.a.createElement("img",{src:e.image||ea.a,style:{width:80,height:80,marginRight:10,objectFit:"cover"}}),o.a.createElement(I.a,{display:"flex",flexDirection:"column"},o.a.createElement(N.a,{className:s.name}," ",e.fullName," "),o.a.createElement(N.a,{variant:"body2"}," @",e.username," ")))})))},na=Object(C.a)({home:Object(w.a)({position:"relative"},me.breakpoints.down("sm"),{marginLeft:0}),headerTitle:{fontSize:"16px",fontFamily:"roboto",fontWeight:500}}),ra=function(){var e=L(),t=Object(j.a)(e,1)[0].auth,a=o.a.useState(null),n=Object(j.a)(a,2),l=n[0],i=n[1],s=function(){i(null)},u=na(),m={userId:t.user.id,limit:10},d=Object(c.useQuery)(Ce,{variables:m,notifyOnNetworkStatusChange:!0}),A=d.data,f=d.loading,p=d.networkStatus,g=d.error;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:u.home},o.a.createElement(pe.a,{container:!0,spacing:3},o.a.createElement(pe.a,{item:!0,md:"8",xs:"12"},o.a.createElement(I.a,null,o.a.createElement(tt,null),function(){if(f&&1===p)return o.a.createElement("h4",null," loading ... ");if(f&&3===p)return o.a.createElement("h4",null," Loading more... ");if(console.log(A),g&&console.log(g),!f&&1!=p){var e=A.getFollowedPosts.posts;return console.log("FollowedPosts",A.getFollowedPosts.posts),e.map(function(e){console.log("AUTHOR: ",e.author),console.log("COMMENTS",e.comments)}),e.length?e.map(function(e){return o.a.createElement(r.Fragment,{key:e.id},o.a.createElement($t,{open:l===e.id,onClose:s},o.a.createElement(Xt,{closeModal:s,comments:e.comments,postImage:e.image,author:e.author.fullName,postTitle:e.title,createdAt:e.createdAt})),o.a.createElement(Ht,{title:e.title,image:e.image,fullName:e.author.fullName,avatar:e.author.image,openModal:function(){return t=e.id,i(t),void window.history.pushState("","",Object(O.f)("/post/:id",{id:t}));var t},likeNumber:e.likes.length,commentNumber:e.comments.length,likes:e.likes,postId:e.id,postAuthor:e.author,imagePublicId:e.imagePublicId,comments:e.comments}))}):o.a.createElement("h5",null," Follow Users, Browse ")}}())),o.a.createElement(pe.a,{item:!0,md:"4",xs:"12"},o.a.createElement(aa,null)))))},oa=Object(C.a)({container:{display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#fff",padding:20,marginRight:10,border:"1px solid #c5c4c4",borderRadius:0},avatar:{width:128,height:128,borderRadius:"50%",objectFit:"cover"},cardInfo:{display:"flex",flexDirection:"column",alignItems:"center"}}),la=function(e){var t=e.user,a=oa();return o.a.createElement(ut.a,{className:a.container,elevation:2},o.a.createElement(I.a,null,o.a.createElement("img",{src:t.image||ea.a,className:a.avatar})),o.a.createElement(I.a,{className:a.cardInfo},o.a.createElement(N.a,null," ",t.fullName," "),o.a.createElement(N.a,{style:{marginBottom:10},color:"textSecondary"}," ","@",t.username," "),o.a.createElement(Et,{user:t})))},ca=a(250),ia=a(251),sa=a(255),ua=Object(C.a)(function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",width:"100%"},gridList:{width:"100%",height:"100%"},gridListTile:{width:"180px",padding:20}}}),ma=function(){var e=L(),t=Object(j.a)(e,1)[0].auth,a=ua(),n=Object(c.useQuery)(Ve,{variables:{userId:t.user.id,skip:0,limit:10},notifyOnNetworkStatusChange:!0}),r=n.data,l=n.loading,i=n.networkStatus;return o.a.createElement(o.a.Fragment,null,function(){if(l&&1===i)return o.a.createElement("h5",null," loading ... ");var e=r.getUsers.users;return!e.length>0?o.a.createElement("h4",null," No users yet... "):o.a.createElement("div",{className:a.root},o.a.createElement(ca.a,{cellHeight:300,className:a.gridList},o.a.createElement(ia.a,{cols:2,style:{height:"auto"}},o.a.createElement(sa.a,null," PEOPLE ")),e.map(function(e,t){return o.a.createElement(ia.a,{key:t,className:a.gridListTile,style:{width:"230px",height:"100%"}},o.a.createElement(la,{key:t,user:e}))})))}())},da=a(328),Aa=a(279),fa=a.n(Aa),pa=Object(C.a)(function(e){return{background:{height:350,width:"100%",backgroundImage:"url(".concat(fa.a,")"),backgroundSize:"cover",backgroundPosition:"center"},uploadIcon:{borderRadius:1,marginTop:5,marginLeft:5,backgroundColor:"#2896e4",color:"#fbfbfb"}}}),ga=function(){var e=pa(),t=o.a.useRef(null);return o.a.createElement(I.a,{className:e.background},o.a.createElement("input",{style:{display:"none"},ref:t,type:"file",accept:"image/x-png,image/jpeg",id:"cover-image"}),o.a.createElement("label",null,o.a.createElement(Ie.a,{className:e.uploadIcon,onClick:function(){t.current.click()}},o.a.createElement(da.a,null))))},ba=Object(C.a)(function(e){return{root:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",paddingBottom:10},image:{width:200,height:200,marginTop:-100,borderRadius:"50%",border:"7px solid #ffffff",objectFit:"cover"},info:{display:"flex",width:600,justifyContent:"space-between"},imgContainer:{display:"flex",flexDirection:"row",alignItems:"center",position:"relative"},uploadIcon:{backgroundColor:"#2896e4",position:"absolute",color:"#fbfbfb",right:0,bottom:0}}}),Ea=function(){var e=ba(),t=o.a.useRef(null),a=Object(c.useApolloClient)(),n=L(),r=Object(j.a)(n,1)[0].auth,l=function(){var e=Object(Ee.a)(be.a.mark(function e(t){var n,o,l;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,a.mutate({mutation:_e,variables:{input:{userId:r.user.id,image:n,isCover:!1,imagePublicId:"userphoto"}},refetchQueries:[{query:Ze}]});case 6:o=e.sent,l=o.data,console.log(l),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[3,11]])}));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(I.a,{className:e.root},o.a.createElement(I.a,{className:e.imgContainer},o.a.createElement("img",{src:r.user.image||ea.a,className:e.image}),o.a.createElement("input",{accept:"image/x-png,image/jpeg",ref:t,type:"file",style:{display:"none"},onChange:l}),o.a.createElement(Ie.a,{className:e.uploadIcon,onClick:function(){return t.current.click()}},o.a.createElement(da.a,null))),o.a.createElement(I.a,null,o.a.createElement("h1",{style:{textAlign:"center"}}," ",r.user.fullName," "),o.a.createElement(I.a,{className:e.info},o.a.createElement(N.a,{variant:"subtitle2",color:"textSecondary"}," ",r.user.posts.length," Posts"," "),o.a.createElement(N.a,{variant:"subtitle2",color:"textSecondary"}," ",r.user.following.length," Following"," "),o.a.createElement(N.a,{variant:"subtitle2",color:"textSecondary"}," ",r.user.followers.length," Followers"," "))))},ha=Object(C.a)(function(e){return{info:{backgroundColor:"#efefef",border:"7px solid #ffffff"},content:{display:"flex",width:"100%",justifyContent:"center"},postContainer:{marginTop:20,width:"80%"}}}),va=function(){var e=ha();return o.a.createElement(I.a,null,o.a.createElement(ga,null),o.a.createElement(Ea,{className:e.info}),o.a.createElement(I.a,{className:e.content},o.a.createElement(I.a,{className:e.postContainer},o.a.createElement(tt,null))))},Oa=a(178),ja=a(280),wa=a.n(ja);function ya(){var e=Object(Oe.a)(["\n    query($searchQuery: String!){\n        searchUsers(searchQuery: $searchQuery){\n            id\n            fullName\n            username\n            image\n        }\n    }\n"]);return ya=function(){return e},e}var xa=Object(c.gql)(ya()),ka=function(e,t){var a=o.a.useState(""),n=Object(j.a)(a,2),r=n[0],l=n[1];return o.a.useEffect(function(){var a=setTimeout(function(){l(e)},t);return function(){clearTimeout(a)}},[t,e]),r},Ca=(0,a(16).makeStyles)(function(e){var t;return{appBar:{position:"fixed",backgroundColor:de.white,display:"flex",justifyContent:"center"},toolBar:Object(w.a)({zIndex:700,display:"flex",backgroundColor:de.white,width:"70%",margin:"0 auto"},e.breakpoints.down("sm"),{width:"100%",padding:0}),search:Object(w.a)({border:"1.2px solid #a9a8a8",backgroundColor:"#efefef",display:"flex",borderRadius:5},e.breakpoints.down("sm"),{marginLeft:5}),searchIcon:{color:"black",padding:5,display:"flex",alignItems:"center"},inputRoot:{},inputInput:{padding:5,height:"90%"},grow:{flexGrow:1},menuIcon:Object(w.a)({},e.breakpoints.up("sm"),{display:"none"}),appName:Object(w.a)({color:de.lighRed},e.breakpoints.down("sm"),{display:"none"}),popper:(t={zIndex:1e3},Object(w.a)(t,e.breakpoints.up("lg"),{marginTop:15}),Object(w.a)(t,"maxHeight",350),Object(w.a)(t,"overflow","auto"),t)}}),Ia=a(206),Pa=function(e){var t=e.isOpen,a=e.anchorEl,n=e.closeMenu,r=e.children,l=Object(ee.a)(e,["isOpen","anchorEl","closeMenu","children"]),c=Ca();return o.a.createElement(at.a,Object.assign({className:c.popper,anchorEl:a,open:t,transition:!0,disablePortal:!0},l),function(e){var t=e.TransitionProps,a=e.placement;return o.a.createElement(st.a,{onClickAway:n},o.a.createElement(Ia.a,Object.assign({},t,{style:{transformOrigin:"top"===a?"center bottom":"center top"}}),o.a.createElement(ut.a,{square:"true",elevation:21,variant:"outlined"},r)))})},Na=function(e){var t=e.searchAnchorEl,a=e.isOpen,n=e.users,r=e.query,l=e.loading,c=e.closeMenu,i=e.messageSearch;return o.a.createElement(Pa,{isOpen:a,anchorEl:t,style:{marginLeft:-50},closeMenu:c},l&&o.a.createElement(te.a,null," searching... "),!n.length>0&&o.a.createElement(te.a,null," No result found for ",r),o.a.createElement(S.a,{style:{width:250,paddingLeft:10}},n.map(function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(te.a,{component:v.b,to:i?Object(O.f)(x,{userId:"replaceId"}):Object(O.f)(k,{username:e.username}),onClick:c},o.a.createElement(Tt.a,null,o.a.createElement(P.a,{alt:"user avatar",src:e.image||ea.a})),o.a.createElement(Ut.a,{primary:e.fullName,secondary:e.username})))})))},Sa=function(e){var t=e.placeholder,a=e.messageSearch,n=e.fullWidth,r=Object(ee.a)(e,["placeholder","messageSearch","fullWidth"]),l=Object(c.useApolloClient)(),i=Ca(),s=o.a.useState(null),u=Object(j.a)(s,2),m=u[0],d=u[1],A=o.a.useState(""),f=Object(j.a)(A,2),p=f[0],g=f[1],b=o.a.useState([]),E=Object(j.a)(b,2),h=E[0],v=E[1],O=o.a.useState(!1),w=Object(j.a)(O,2),y=w[0],x=w[1],k=o.a.useState(!1),C=Object(j.a)(k,2),I=C[0],P=C[1],N={root:i.inputRoot,input:i.inputInput},S=ka(p,500);return o.a.useEffect(function(){!function(){var e=Object(Ee.a)(be.a.mark(function e(){var t,a;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.query({query:xa,variables:{searchQuery:S}});case 2:t=e.sent,a=t.data,P(!1),v(a.searchUsers),x(""!=S);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[l,S]),o.a.createElement("div",Object.assign({className:i.search},r),o.a.createElement("div",{className:i.searchIcon},o.a.createElement(wa.a,null)),o.a.createElement(Oa.a,{fullWidth:!!n,classes:N,placeholder:t,onChange:function(e){return function(e){var t=e.target.value.replace(/^\s+/g,"");d(e.currentTarget),g(t),t&&P(!0)}(e)}}),o.a.createElement(Na,{searchAnchorEl:m,isOpen:y,users:h,query:S,loading:I,closeMenu:function(){return g("")},messageSearch:a}))},Da=Object(C.a)(function(e){return{user:{display:"flex",width:"100%",justifyContent:"flex-start",textDecoration:"none",alignItems:"center",padding:5,color:"#ffffff",backgroundColor:"#505050"},online:{backgroundColor:"#1bde03",width:8,height:8,borderRadius:"50%",marginLeft:15},avatar:{marginRight:15,border:"3px solid #a9a4a4",borderRadius:"50%"}}}),Ra=function(e){var t=e.chatUser,a=Da();return t?o.a.createElement(I.a,{className:a.user},o.a.createElement(P.a,{className:a.avatar,src:t.image}),o.a.createElement(N.a,null," ",t.fullName," "),t.isOnline&&o.a.createElement("div",{className:a.online})):t?void 0:o.a.createElement(I.a,null,o.a.createElement(Sa,{placeholder:"Search user to message...",fullWidth:!0,style:{borderRadius:0,width:"100%"}}))},za=Object(C.a)(function(e){return{container:{backgroundColor:"#dedede",width:"100%",height:"calc(100% - 50px)",position:"relative"},submit:{position:"absolute",bottom:0,width:"100%",display:"flex",padding:5,backgroundColor:"#f7f7f7",borderTop:"1px solid #bfbebe",borderBottom:"1px solid #bfbebe",borderRight:"1px solid #bfbebe"},conversation:{flexGrow:1},messageWrapper:{padding:10,margin:"5px 5px 0 5px",display:"flex"},message:{maxWidth:300,backgroundColor:"#ffffff",padding:10,borderRadius:5}}}),Fa=function(e){var t=e.chatUser,a=e.messages,n=e.authUser,r=za();return o.a.createElement(I.a,{className:r.container},o.a.createElement(I.a,{className:r.conversation},a.map(function(e){var a=n.id===e.sender.id;return o.a.createElement(I.a,{style:a?{justifyContent:"flex-end"}:null,className:"".concat(r.messageWrapper)},!a&&o.a.createElement(P.a,{style:{marginRight:5},src:t.image}),o.a.createElement(I.a,{style:a?{backgroundColor:"#bfbfbf"}:null,className:r.message}," ",e.message," "))})),t&&o.a.createElement(I.a,{className:r.submit},o.a.createElement(Oa.a,{type:"text",style:{width:"calc(100% - 50px)"},placeholder:"Start typing your message..."}),o.a.createElement(ae.a,{type:"submit",variant:"contained",size:"small",color:"primary"},"Send")))},Qa=Object(C.a)(function(e){return{container:{backgroundColor:"#dedede",width:"100%"}}}),Ta="https://material-ui.com/static/images/avatar/3.jpg",Ua={id:1,image:Ta,fullName:"Roger Alexander",lastMessageSender:!0,lastMessage:"Hey fine",isOnline:!0},Ma=[{id:1,sender:{id:"5fc26ff2329e5d026d4f301f",image:Ta},message:"Hey boy",cratedAt:"23 - 09 - 2020"},{id:1,sender:{id:"5fc2703d329e5d026d4f3020",image:Ta},message:"Hey There",cratedAt:"23 - 09 - 2020"}],La=Object(O.h)(function(e){e.match.params.id;var t=Qa(),a=L(),n=Object(j.a)(a,1)[0].auth;return o.a.createElement(I.a,{className:t.container},o.a.createElement(Ra,{chatUser:Ua}),o.a.createElement(Fa,{messages:Ma,authUser:n.user,chatUser:Ua}))}),Ba=a(281),Ha=a.n(Ba);function qa(){var e=Object(Oe.a)(["\n    subscription{\n        newConversation{\n            id\n            username\n            fullName\n            image\n            isOnline\n            lastMessage\n            lastMessageCreatedAt\n            lastMessageSender\n            seen\n        }\n    }\n"]);return qa=function(){return e},e}function Ga(){var e=Object(Oe.a)(["\n    query($authUserId: ID!){\n        getConversations(authUserId: $authUserId){\n            id\n            image\n            username\n            fullName\n            isOnline\n            seen\n            lastMessage\n            lastMessageSender\n        }\n    }\n"]);return Ga=function(){return e},e}var Wa=Object(c.gql)(Ga()),Ya=Object(c.gql)(qa()),Ja=Object(C.a)(function(e){return{container:{width:330,height:"90vh",display:"flex",flexDirection:"column",alignItems:"center",borderColor:"#d0d0d0",backgroundColor:"#ffffff"},header:{display:"flex",justifyContent:"space-between",padding:5,alignItems:"center",width:"90%"},selected:{backgroundColor:"#ceced0"},user:{display:"flex",width:"100%",justifyContent:"flex-start",textDecoration:"none",alignItems:"center",padding:5,color:"#424242"},notSeen:{backgroundColor:"#14e8de",width:8,height:8,borderRadius:"50%",marginLeft:15}}}),Ka=function(){var e=Ja(),t=L(),a=Object(j.a)(t,1)[0].auth,n=Object(c.useQuery)(Wa,{variables:{authUserId:a.user.id}}),r=n.data,l=n.loading,i=n.subscribeToMore;return o.a.useEffect(function(){var e=i({document:Ya,updateQuery:function(e,t){var a=t.subscriptionData;if(!a.data)return e;var n=a.data.newConversation,r=e.getConversations;return r.some(function(e){return e.id===n.id})?e:{getConversations:[].concat(Object(h.a)(r),[n])}}});return function(){e()}},[i]),o.a.createElement(I.a,{border:1,className:e.container},o.a.createElement(I.a,{className:e.header},o.a.createElement(N.a,null," CHATS "),o.a.createElement(Ie.a,null,o.a.createElement(Ha.a,null))),o.a.createElement(Sa,{style:{width:"95%",borderRadius:0},messageSearch:!0,placeholder:"Chat users..."}),o.a.createElement(I.a,{width:"100%"},o.a.createElement(S.a,null,!l&&r.getConversations.map(function(t){var a=!1===t.seen&&!1===t.lastMessageSender;return console.log("NOT SEEN",a),console.log("CONVERSATIONS",r.getConversations),o.a.createElement(v.c,{className:e.user,activeClassName:e.selected,to:Object(O.f)(x,{id:t.id})},o.a.createElement(P.a,{style:{marginRight:10},src:t.image}),o.a.createElement(I.a,null,o.a.createElement(N.a,null," ",t.fullName),o.a.createElement(N.a,null," ",t.lastMessage," "),a&&o.a.createElement("div",{className:e.notSeen})))}))))},$a=Object(C.a)(function(e){return{container:{display:"flex",width:"100%"}}}),Za=function(){var e=$a();return o.a.createElement(o.a.Fragment,null,o.a.createElement(I.a,{className:e.container},o.a.createElement(Ka,null),o.a.createElement(La,null)))},Va=a(238),Xa=a(258),_a=a(239),en=a(56),tn=a(329),an=a(330),nn=a(331),rn=a(182),on=a(282),ln=a.n(on),cn=a(212),sn=a(256),un=function(e){var t=e.isOpen,a=e.messageAnchorEl,n=e.closeMenu;e.messageData;return o.a.createElement(Pa,{isOpen:t,anchorEl:a,closeMenu:n},o.a.createElement(cn.a,null,o.a.createElement(sn.a,null," First message "),o.a.createElement(sn.a,null," Second message ")))},mn=function(e){var t=e.notification;if(t.like||t.comment||t.follow){var a=t.sender?t.sender.fullName:null,n=function(){return o.a.createElement("div",{style:{width:45,height:45,marginLeft:5}},o.a.createElement("img",{alt:"post-pic",src:t.like.post.image,style:{width:"100%",height:"100%",objectFit:"cover"}}))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(te.a,{button:!0},o.a.createElement(Tt.a,null,o.a.createElement(P.a,{alt:"user avatar",src:t.sender.image})),t.like&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Ut.a,{secondary:"".concat(a," likes your post")}),n),t.comment&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Ut.a,{secondary:"".concat(a," commented on your post")}),n)))}},dn=function(e){var t=e.dropDownData,a=e.notificationAnchorEl,n=e.isOpen,r=e.closeMenu;console.log("notification HD",t);var l=t;return!l.length>0?o.a.createElement(Pa,{isOpen:n,anchorEl:a,closeMenu:r},o.a.createElement(N.a,{color:"textSecondary",style:{padding:10}}," ","No notification"," ")):o.a.createElement(Pa,{isOpen:n,anchorEl:a,closeMenu:r},o.a.createElement(S.a,null,l.map(function(e){return o.a.createElement(mn,{key:e.id,notification:e})})))},An=Object(O.h)(function(e){var t=e.history,a=Object(c.useApolloClient)(),n=L();Object(j.a)(n,2)[1];return o.a.createElement(sn.a,{onClick:function(){localStorage.removeItem("token"),a.resetStore(),t.push("/")}},"Logout")}),fn=function(e){var t=e.isOpen,a=e.userAnchorEl,n=e.closeMenu,r=L(),l=Object(j.a)(r,1)[0].auth;return o.a.createElement(Pa,{isOpen:t,anchorEl:a,closeMenu:n},o.a.createElement(cn.a,null,o.a.createElement(v.b,{to:Object(O.f)(k,{username:l.user.username}),style:{textDecoration:"none"},onClick:n},o.a.createElement(sn.a,null," Profile ")),o.a.createElement(An,null)))},pn=function(e){var t=e.dropDownOpen,a=e.dropDownData,n=e.isOpen,r=e.notificationAnchorEl,l=e.messageAnchorEl,c=e.userAnchorEl,i=e.closeMenu;return t?{NOTIFICATION:o.a.createElement(dn,{dropDownData:a,notificationAnchorEl:r,isOpen:n,closeMenu:i}),MESSAGE:o.a.createElement(un,{isOpen:n,messageAnchorEl:l,closeMenu:i}),USER:o.a.createElement(fn,{isOpen:n,userAnchorEl:c,closeMenu:i})}[t]:null},gn=function(){var e=Ca(),t=L(),a=Object(j.a)(t,1)[0].auth,n=o.a.useState([]),l=Object(j.a)(n,2),c=l[0],i=l[1],s=Object(r.useState)(!1),u=Object(j.a)(s,2),m=u[0],d=u[1],A=Object(r.useState)(null),f=Object(j.a)(A,2),p=f[0],g=f[1],b=Object(r.useState)([]),E=Object(j.a)(b,2),h=E[0],v=E[1],O=Object(r.useState)(null),w=Object(j.a)(O,2),y=w[0],x=w[1];o.a.useEffect(function(){null!=a.user&&i(a.user.notifications)},[a]);var k=function(e){return g(p&&p.contains(e.target)?null:e.currentTarget)},C=function(e,t){"MESSAGE"===t&&k(e),"NOTIFICATION"===t&&(v(c),x(t),k(e)),"USER"===t&&(x(t),k(e)),x(t)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(Va.a,{position:"sticky",className:e.appBar},o.a.createElement(Xa.a,{className:e.toolBar},o.a.createElement(Ie.a,{color:"secondary",onClick:function(){return d(!m)},className:e.menuIcon},o.a.createElement(ln.a,null)),o.a.createElement(N.a,{variant:"h6",className:e.appName},rn.name),o.a.createElement(Sa,{fullWidth:!1,placeholder:"Search users...",style:{marginLeft:20}}),o.a.createElement("div",{className:e.grow}),o.a.createElement(Ie.a,{color:"inherit",onClick:function(e){return C(e,"NOTIFICATION")}},o.a.createElement(_a.a,{badgeContent:c.length,color:"secondary"},o.a.createElement(tn.a,{color:"primary",fontSize:"small"}))),o.a.createElement(Ie.a,{color:"inherit",onClick:function(e){return C(e,"MESSAGE")}},o.a.createElement(_a.a,{badgeContent:4,color:"secondary"},o.a.createElement(an.a,{color:"primary",fontSize:"small"}))),o.a.createElement(Ie.a,{color:"inherit",onClick:function(e){return C(e,"USER")}},o.a.createElement(nn.a,{color:"primary"})))),o.a.createElement(pn,{dropDownOpen:y,dropDownData:h,notificationAnchorEl:p,messageAnchorEl:p,userAnchorEl:p,isOpen:Boolean(p),closeMenu:function(){g(null)}}),o.a.createElement(en.a,{open:m,onClose:function(){return d(!1)}},o.a.createElement(se,null)))},bn=a(246),En=a(5),hn=Object(En.a)({root:{marginLeft:20}})(I.a),vn=Object(C.a)(function(e){return{"@global":{"*::-webkit-scrollbar":{width:"0.4em",height:"0.4em"},"*::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.4)",outline:"1px solid slategrey"}},middle:Object(w.a)({paddingTop:80,height:"100vh",paddingLeft:256,paddingRight:25},e.breakpoints.down("sm"),{padding:0}),extreme:{paddingTop:60,backgroundColor:de.black,position:"relative"},desktopDrawer:{top:70,height:"calc(100% - 64px)",width:256,zIndex:100},grid:{height:"100%"}}}),On=Object(O.h)(function(e){var t=e.authUser,a=L(),n=Object(j.a)(a,2)[1],l=vn();"".concat(x,"/1");return Object(r.useEffect)(function(){n({type:"SET_AUTH_USER",payload:t})},[t,n]),o.a.createElement(o.a.Fragment,null,o.a.createElement(gn,null),o.a.createElement("div",{className:l.root},o.a.createElement(bn.a,null),o.a.createElement(pe.a,{container:!0,className:l.grid},o.a.createElement(fe.a,{smDown:!0},o.a.createElement(en.a,{open:!0,variant:"persistent",classes:{paper:l.desktopDrawer}},o.a.createElement(se,null))),o.a.createElement(pe.a,{item:!0,xl:10,lg:12,xs:12,className:l.middle},o.a.createElement(hn,null,o.a.createElement(O.d,null,o.a.createElement(O.b,{exact:!0,path:y,render:function(){return o.a.createElement(ra,null)}}),o.a.createElement(O.b,{exact:!0,path:"/people",render:function(){return o.a.createElement(ma,null)}}),o.a.createElement(O.b,{exact:!0,path:k,render:function(){return o.a.createElement(va,null)}}),o.a.createElement(O.b,{exact:!0,path:x,render:function(){return o.a.createElement(Za,null)}})))))))}),jn=a(16),wn=jn.withStyles,yn=jn.TextField,xn=wn({root:{marginTop:(0,jn.createMuiTheme)().spacing(2),width:"100%"}})(yn),kn=(0,a(16).makeStyles)(function(e){return{paper:{paddingTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},form:Object(w.a)({display:"flex",flexDirection:"column",width:"35%"},e.breakpoints.down("xs"),{width:"100%"}),submit:Object(w.a)({marginTop:e.spacing(2),color:e.palette.secondary.main},e.breakpoints.up("md"),{height:"45px"}),signupText:{marginTop:e.spacing(1),marginBottom:-10},subText:{color:e.palette.primary.light}}}),Cn=function(e){var t=e.fullName,a=e.email,n=e.username,r=e.password;return t&&a&&n&&r?/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(a).toLocaleLowerCase())?/^(?!.*\.\.)(?!.*\.$)[^\W][\w.]{0,29}$/.test(String(n))?n.length>15||t.length>15?"Username and full Name can't contain more than 15 characters":r.length<7&&"Password should be at least 7 characters":"You may have entered some invalid characters for your username":"Invalid email":"Please provide a value for each field"},In=Object(O.h)(function(e){var t=e.refetch,a=(e.location,e.history),n=Object(r.useState)({fullName:"",username:"",email:"",password:""}),l=Object(j.a)(n,2),s=l[0],u=l[1],m=Object(r.useState)(""),d=Object(j.a)(m,2),A=d[0],f=d[1],p=s.fullName,g=s.username,b=s.email,E=s.password,h=Object(c.useMutation)(We),O=Object(j.a)(h,2),x=O[0],k=O[1].loading,C=function(){var e=Object(Ee.a)(be.a.mark(function e(n){var r,o;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(r=Cn(s))){e.next=5;break}return f(r),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,x({variables:{input:{fullName:p,username:g,email:b,password:E}}});case 8:o=e.sent,console.log(o.data),f(""),console.log("response: ".concat(o.data,",\n              loading: ").concat(k,",\n              error: ").concat(r,"\n            ")),localStorage.setItem("token",o.data.signup.signupToken),t(),a.push(y),e.next=23;break;case 17:if(e.prev=17,e.t0=e.catch(5),e.t0.graphQLErrors){e.next=21;break}return e.abrupt("return");case 21:f(e.t0.graphQLErrors[0].message),console.log(e.t0.graphQLErrors[0].message);case 23:case"end":return e.stop()}},e,null,[[5,17]])}));return function(t){return e.apply(this,arguments)}}(),I=function(e){var t=e.target,a=t.name,n=t.value;u(Object(i.a)(Object(i.a)({},s),{},Object(w.a)({},a,n)))},P=kn();return o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt,null,o.a.createElement(bn.a,null),o.a.createElement("div",{className:P.paper},A,o.a.createElement(N.a,{variant:"h6",className:P.signupText},"SIGN UP"),o.a.createElement("hr",null),o.a.createElement("form",{className:P.form,onSubmit:function(e){return C(e,x)}},o.a.createElement(xn,{type:"text",onChange:I,name:"fullName",value:p,variant:"outlined",label:"Fullname"}),o.a.createElement(xn,{type:"text",onChange:I,name:"email",value:b,variant:"outlined",label:"email"}),o.a.createElement(xn,{type:"text",onChange:I,name:"username",value:g,label:"User name",variant:"outlined"}),o.a.createElement(xn,{type:"password",onChange:I,name:"password",value:E,label:"password",variant:"outlined"}),o.a.createElement(ae.a,{variant:"contained",className:P.submit,color:"primary",type:"submit"},"Submit")," ",o.a.createElement("br",null),o.a.createElement(N.a,null,"Already have an account? ",o.a.createElement(v.b,{to:"/"}," Sign In"))))))}),Pn=a(6),Nn=a.n(Pn),Sn=function(e){var t=e.location,a=e.history,n=e.refetch,l=Object(r.useState)(""),s=Object(j.a)(l,2),u=s[0],m=s[1],d=Object(r.useState)({emailOrUsername:"",password:""}),A=Object(j.a)(d,2),f=A[0],p=A[1],g=f.emailOrUsername,b=f.password,E=Object(c.useMutation)(Ye),h=Object(j.a)(E,1)[0],O=function(){var e=Object(Ee.a)(be.a.mark(function e(t){var r;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h({variables:{input:{emailOrUsername:g,password:b}}});case 4:r=e.sent,n(),a.push(y),console.log(r.data),localStorage.setItem("token",r.data.signin.signinToken),m(""),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),console.log(e.t0.graphQLErrors[0].message),m(e.t0.graphQLErrors[0].message);case 17:case"end":return e.stop()}},e,null,[[1,12]])}));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)(function(){m("")},[t.pathname]);var x=function(e){var t=e.target,a=t.name,n=t.value;p(Object(i.a)(Object(i.a)({},f),{},Object(w.a)({},a,n))),console.log(a,n)},k=kn();return o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt,null,o.a.createElement("div",{className:k.paper},u,o.a.createElement(N.a,{variant:"h6"},"SIGN IN"),o.a.createElement("form",{onSubmit:function(e){return O(e,h)},className:k.form},o.a.createElement(xn,{type:"text",onChange:x,name:"emailOrUsername",value:g,variant:"outlined",label:"username or email"}),o.a.createElement(xn,{type:"password",onChange:x,name:"password",value:b,variant:"outlined",label:"password"}),o.a.createElement(ae.a,{className:k.submit,variant:"contained",type:"submit",color:"primary"},"LOGIN")," ",o.a.createElement("br",null),o.a.createElement(N.a,null,"Don't have an acount? ",o.a.createElement(v.b,{to:"/signup"}," Sign up ")),o.a.createElement(N.a,null,"Forgot Password ?"," ",o.a.createElement(v.b,{to:"/forgotPassword"}," Reset Password "))))))};Sn.prototype={history:Nn.a.object.isRequired,refetch:Nn.a.func.isRequired};var Dn=Object(O.h)(Sn),Rn=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),a=t[0],n=t[1],l=Object(r.useState)(""),i=Object(j.a)(l,2),s=i[0],u=i[1],m=Object(r.useState)("We will email you a link to reset your password"),d=Object(j.a)(m,2),A=d[0],f=d[1],p=Object(c.useMutation)(Je),g=Object(j.a)(p,2),b=g[0],E=g[1].loading,h=function(){var e=Object(Ee.a)(be.a.mark(function e(t){var n;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a){e.next=3;break}return e.abrupt("return",u("Please enter your email"));case 3:return e.prev=3,e.next=6,b({variables:{input:{email:a}}});case 6:n=e.sent,console.log(n),f("EMAIL SENT"),u(n.data.requestPassReset.message),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),u(e.t0.graphQLErrors[0].message);case 15:case"end":return e.stop()}},e,null,[[3,12]])}));return function(t){return e.apply(this,arguments)}}(),O=kn();return o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt,null,o.a.createElement("div",{className:O.paper},s,o.a.createElement(N.a,{variant:"h6",style:{marginBottom:"20px"}},"REQUEST PASSWORD RESET"),o.a.createElement(N.a,{align:"center",className:O.subText},A),o.a.createElement("form",{onSubmit:function(e){return h(e,b)},className:O.form},o.a.createElement(xn,{label:"email",variant:"outlined",onChange:function(e){var t=e.target.value;n(t)}}),o.a.createElement(ae.a,{disabled:E,type:"submit",className:O.submit,color:"primary",variant:"contained"},"Request Password Reset")," ",o.a.createElement("br",null),o.a.createElement(N.a,null,o.a.createElement(v.b,{to:"/"},"Let me retry to login"))))))},zn=a(16),Fn=zn.AppBar,Qn=zn.Toolbar,Tn=zn.Typography,Un=function(){return o.a.createElement(Fn,null,o.a.createElement(Qn,null,o.a.createElement(Tn,{varaiant:"h4"},rn.name)))},Mn=function(e){var t=e.location,a=new URLSearchParams(t.search),n=a.get("email"),l=a.get("passwordResetToken"),s=Object(r.useState)(""),u=Object(j.a)(s,2),m=u[0],d=u[1],A=Object(c.useQuery)(Ke,{variables:{email:n,token:l}}),f=(A._,A.error,Object(c.useMutation)($e)),p=Object(j.a)(f,2),g=p[0],b=p[1].loading,E=Object(r.useState)({newPassword:"",passwordConfirmation:""}),h=Object(j.a)(E,2),v=h[0],O=h[1],y=v.newPassword,x=v.passwordConfirmation,k=function(e){var t=e.target,a=t.name,n=t.value;O(Object(i.a)(Object(i.a)({},v),{},Object(w.a)({},a,n))),console.log(a,n)},C=function(){var e=Object(Ee.a)(be.a.mark(function e(t){var a;return be.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,g({variables:{input:{email:n,password:y,passwordResetToken:l}}});case 4:a=e.sent,console.log(a.data),d("Password Successfully Reset"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),d(e.t0.graphQLErrors[0].message);case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),I=kn();return o.a.createElement(o.a.Fragment,null,o.a.createElement(Yt,null,o.a.createElement("div",{className:I.paper},m,o.a.createElement(N.a,null,"RESET PASSWORD"),o.a.createElement("form",{className:I.form,onSubmit:function(e){return C(e,g)}},o.a.createElement(xn,{variant:"outlined",name:"newPassword",value:y,label:"new password",onChange:k}),o.a.createElement(xn,{variant:"outlined",name:"passwordConfirmation",value:x,label:"confirm password",onChange:k}),o.a.createElement(ae.a,{className:I.submit,variant:"contained",color:"primary",type:"sumbit",disabled:b},"RESET PASSWORD")))))},Ln=function(e){var t=e.refetch;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Un,null),o.a.createElement(O.d,null,o.a.createElement(O.b,{exact:!0,path:"/signup",render:function(){return o.a.createElement(In,{refetch:t})}}),o.a.createElement(O.b,{exact:!0,path:"/",render:function(){return o.a.createElement(Dn,{refetch:t})}}),o.a.createElement(O.b,{exact:!0,path:"/forgotPassword",render:function(){return o.a.createElement(Rn,null)}}),o.a.createElement(O.b,{exact:!0,path:"/reset-password",component:Mn}),o.a.createElement(O.a,{to:"/"})))};var Bn=Object(O.h)(function(e){var t=e.children,a=e.location.pathname;return Object(r.useEffect)(function(){window.scrollTo(0,0)},[a]),t||null});function Hn(){var e=Object(Oe.a)(["\n    subscription{\n        notificationCreatedOrDeleted{\n            operation\n            notification{\n                id\n                sender{\n                    id\n                    fullName\n                    email\n                    username\n                }\n            }\n        }\n    }\n"]);return Hn=function(){return e},e}function qn(){var e=Object(Oe.a)(["\n    mutation($input: DeleteNotificationInput!){\n        deleteNotification(input: $input){\n            id\n        }\n    }\n"]);return qn=function(){return e},e}function Gn(){var e=Object(Oe.a)(["\n    mutation($input: CreateNotificationInput!){\n        createNotification(input: $input){\n            id\n        }\n    }\n"]);return Gn=function(){return e},e}function Wn(){var e=Object(Oe.a)(["\n    query($userId:ID!, $skip:Int, $limit:Int){\n        getUserNotifications(userId: $userId, skip:$skip, limit:$limit){\n            count\n            notifications\n        }\n    }\n"]);return Wn=function(){return e},e}Object(c.gql)(Wn()),Object(c.gql)(Gn()),Object(c.gql)(qn());var Yn,Jn=Object(c.gql)(Hn()),Kn=function(){var e=Object(c.useQuery)(Ze),t=e.loading,a=e.data,n=(e.error,e.subscribeToMore),l=e.refetch;return console.log("AUTH USER",a),Object(r.useEffect)(function(){var e=n({document:Jn,updateQuery:function(e,t){var a=t.subscriptionData;if(!a.data)return e;var n=a.data.notificationCreatedOrDeleted,r=n.operation,o=n.notification,l=[o].concat(Object(h.a)(e.getAuthUser.notifications));if("CREATE"===r&&"notifications"===window.location.href.split("/")[3])return e;if("DELETE"===r){console.log("THE NOTIFICATION :",o);var c=e.getAuthUser.notifications,i=c.findIndex(function(e){return e.id===o.id});i>-1&&(c.splice(i,1),console.log("INDEX: ",i,"should spliced")),l=c}var s=e.getAuthUser;return s.notifications=l,{getAuthUser:s}}});return function(){e()}},[n]),o.a.createElement(v.a,null,o.a.createElement(O.d,null,o.a.createElement(Bn,null,!t&&a.getAuthUser?o.a.createElement(O.b,{exact:!0,render:function(){return o.a.createElement(On,{authUser:a.getAuthUser})}}):o.a.createElement(O.b,{exact:!0,render:function(){return o.a.createElement(Ln,{refetch:l})}}))))},$n=a(236),Zn=(Yn="LIGHT",Object(ue.a)({palette:Ae[Yn],overrides:{MuiBadge:{colorSecondary:{color:"white",backgroundColor:"#dc0d0d"}}}})),Vn=function(e,t){var a=new s.a,n=(f(),localStorage.getItem("token")),r=new g.a({uri:t,options:{reconnect:!0,connectionParams:{authorization:n}}}),o=Object(m.createUploadLink)({uri:e}),l=Object(c.split)(function(e){var t=e.query,a=Object(b.p)(t);return"OperationDefinition"===a.kind&&"subscription"===a.operation},r,o);return new c.ApolloClient({link:u.ApolloLink.from([Object(d.a)(function(e){var t=e.graphQLErrors,a=e.networkError;t&&console.log("graphQLErrors: ".concat(t[0].message)),a&&console.log("Network Error: ".concat(a))}),E,l]),cache:a})}("http://localhost:8080/graphql","ws://localhost:8080/graphql");Object(l.render)(o.a.createElement(c.ApolloProvider,{client:Vn},o.a.createElement($n.a,{theme:Zn},o.a.createElement(M,null,o.a.createElement(Kn,null)))),document.getElementById("root"))},91:function(e,t){e.exports="data:image/jpeg;base64,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"}},[[287,1,2]]]);
//# sourceMappingURL=main.e0fde8ac.chunk.js.map