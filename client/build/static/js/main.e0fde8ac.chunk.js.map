{"version":3,"sources":["pages/Profile/background2.jpg","utils/createAuthLink.js","utils/createApolloClient.js","routes.js","store/auth.js","store/message.js","store/store.js","components/App/NavItem.js","components/App/Navigation.js","utils/theme.js","graphql/post.js","components/UploadPostImage.js","components/ImagePreview.js","graphql/user.js","components/CreatePost.js","constants/DataLimit.js","constants/ImageSizeLimit.js","graphql/follow.js","components/Follow.js","components/Postcard/PostCardOptions.js","graphql/comment.js","components/CreateComment.js","graphql/like.js","components/Like.js","components/PostPopUp/PostPopUpComments.js","components/Postcard/PostCard.js","components/Layout.js","components/Confirm.js","components/Modal.js","components/PostPopUp/PostPopUp.js","components/peopleSuggestions.js","pages/Home/Home.js","pages/People/PeopleCard.js","pages/People/People.js","pages/Profile/CoverPhotoUpload.js","pages/Profile/ProfileInfo.js","pages/Profile/Profile.js","graphql/search.js","hooks/useDebounce.js","components/App/AppHeader/headerStyles.js","components/App/AppHeader/MenuWrapper.js","components/Search/searchResult.js","components/Search/Search.js","pages/Message/ChatHeading.js","pages/Message/ChatConversations.js","pages/Message/MessageChat.js","graphql/message.js","pages/Message/MessageUsers.js","pages/Message/Message.js","components/App/AppHeader/HeaderMessageDropDown.js","components/App/Notification.js","components/App/AppHeader/HeaderNotificationDropDown.js","components/Logout.js","components/App/AppHeader/HeaderUserDropDown.js","components/App/AppHeader/HeaderDropDowns.js","components/App/AppHeader/AppHeader.js","components/pageContainer.js","components/App/AppLayout.js","components/TextField.js","styles/formStyles.js","utils/validate.js","pages/Auth/SignUp.js","pages/Auth/SignIn.js","pages/Auth/ForgotPassword.js","pages/Auth/AuthHeader.js","pages/Auth/ResetPassword.js","pages/Auth/AuthLayout.js","components/App/ScrollTop.js","graphql/notification.js","utils/getMuiTheme.js","components/App/App.js","index.js","ressources/defaultAvatar.jpg"],"names":["module","exports","__webpack_require__","p","createAuthLink","ApolloLink","operation","forward","observable","Observable","observer","Promise","resolve","then","oper","token","localStorage","getItem","setContext","headers","authorization","request","subscribe","next","bind","complete","error","catch","unsubscribe","myAuthLink","_","_ref","Object","objectSpread2","HOME","MESSAGE","PROFILE","authInitialState","user","authReducer","state","arguments","length","undefined","action","type","payload","messageInitialState","message","messageReducer","StoreContext","createContext","store","auth","reducers","StoreProvider","children","react_default","a","createElement","Provider","value","useReducer","useStore","useContext","palette","background","dark","default","colors","common","white","paper","primary","main","indigo","secondary","text","blueGrey","navItemStyles","makeStyles","theme","item","display","paddingTop","paddingBottom","button","color","fontWeight","typography","fontWeightMedium","width","padding","justifyContent","textTransform","letterSpacing","icon","marginRight","spacing","title","active","backgroundColor","NavItem","Icon","href","className","rest","objectWithoutProperties","classes","ListItem","assign","disableGutters","clsx","Button","component","RouterLink","to","activeClassName","navStyles","name","fontSize","fontFamily","avatar","height","cursor","Navigation","_React$createElement","_useStore","slicedToArray","list","HomeIcon","Routes","WebIcon","PeopleIcon","NotificationsActiveIcon","MessageIcon","InfoIcon","map","index","App_NavItem","key","Fragment","Box","flexDirection","alignItems","Avatar","src","image","Typography","variant","defineProperty","fullName","Divider","List","createMuiTheme","screen","xs","sm","md","lg","xl","_colors","darkGrey","lighRed","black","indigo9","indigo8","indigo6","indigo4","indigo1","indigo0","LIGHT","light","CREATE_POST","gql","_templateObject","DELETE_POST","_templateObject2","GET_FOLLOWED_POSTS","_templateObject3","inputStyles","input","borderRadius","breakpoints","down","margin","UploadPostImage","handleImageChange","onChange","accept","id","htmlFor","IconButton","onClick","document","getElementById","click","PhotoCamera_default","previewStyles","container","position","objectFit","ImagePreview","imageSource","SIGN_UP","user_templateObject","SIGN_IN","user_templateObject2","REQUEST_PASS_RESET","user_templateObject3","VERIFY_RESET_PASSWORD_TOKEN","_templateObject4","RESET_PASSWORD","_templateObject5","GET_AUTH_USER","_templateObject6","GET_USERS","_templateObject7","SUGGEST_PEOPLE","_templateObject8","UPLOAD_USER_PHOTO","_templateObject9","postStyles","_templateObject10","borderColor","row1","textarea","marginLeft","outline","border","paddingLeft","uploadIcon","buttons","marginTop","CreatePost","_useState","useState","_useState2","isFocused","setIsFocused","_useState3","_useState4","setTitle","_useState5","_useState6","setImage","_useState7","_useState8","uploadError","setUploadError","_useMutation","useMutation","refetchQueries","query","variables","userId","limit","_useMutation2","createPost","loading","isUploadDisabled","handleReset","handleSubmit","asyncToGenerator","regenerator_default","mark","_callee","e","wrap","_context","prev","abrupt","preventDefault","authorId","sent","t0","console","log","stop","_x","apply","this","onSubmit","placeholder","target","focused","onFocus","components_UploadPostImage","file","files","size","concat","MAX_POST_IMAGE_SIZE","components_ImagePreview","URL","createObjectURL","startIcon","CloudUpload_default","style","disabled","CREATE_FOLLOW","follow_templateObject","DELETE_FOLLOW","follow_templateObject2","Follow","isFollowing","followers","find","f","follower","options","create","mutation","currentUserId","followedUserId","delete","followId","skip","mutate","handleButtonClick","_ref2","fullWidth","PostCardOptions","closeMenu","postId","postAuthor","deletePost","font","isUserPost","ClickAwayListener","onClickAway","Paper","elevation","absUrl","process","generatePath","navigator","clipboard","writeText","FileCopy","Delete","components_Follow","PersonAdd","CREATE_COMMENT","comment_templateObject","DELETE_COMMENT","comment_templateObject2","commenStyles","textField","marginBottom","form","CreateComment","focus","textareaEl","React","useRef","buttonEl","_React$useState","_React$useState2","comment","setComment","createComment","useEffect","current","TextField","inputRef","multiline","onKeyDown","keyCode","ref","trim","Send","CREATE_LIKE","like_templateObject","DELETE_LIKE","like_templateObject2","Like","likes","author","existedLike","like","likeId","ThumbUpAlt","PostPopUpComments","comments","closeComments","userAvatar","remove","deleteComment","commentId","reverse","c","ListItemAvatar","alt","ListItemText","react","ListItemSecondaryAction","postCardStyles","card","maxWidth","boxShadow","cardData","paddingRight","icons","paddingX","media","_media","up","footer","PostCard","openModal","likeNumber","commentNumber","imagePublicId","anchorEl","setAnchorEl","open","Boolean","_React$useState3","_React$useState4","isCommentOpen","setIsCommentOpen","Popper","placement","Postcard_PostCardOptions","Card","CardHeader","header","event","currentTarget","MoreVert","subheader","CardContent","CardMedia","components_Like","Comment","PostPopUp_PostPopUpComments","components_CreateComment","require","Container","withStyles","MainContainer","root","Confirm","postion","top","bottom","left","right","zIndex","overlayStyles","overlay","Modal","onClose","props","components_Confirm","PostStyles","_paper","maxHeight","overflow","mediaContainer","_mediaContainer","PostPopUp","closeModal","postImage","postTitle","createdAt","Close","peopleStyles","&:hover","PeopleSuggestions","client","useApolloClient","people","setPeople","_yield$client$query","data","suggestPeople","users","getSuggestedPeople","defaultAvatar","username","homeStyles","home","headerTitle","Home","setPostId","_useQuery","useQuery","notifyOnNetworkStatusChange","networkStatus","Grid","components_CreatePost","posts","getFollowedPosts","post","components_Modal","components_PostPopUp_PostPopUp","Postcard_PostCard","window","history","pushState","renderContent","peopleSuggestions","peopleCardStyles","cardInfo","PeopleCard","flexWrap","gridList","gridListTile","People","getUsers","GridList","cellHeight","GridListTile","cols","ListSubheader","People_PeopleCard","content","CoverStyles","backgroundImage","defaultCover","backgroundSize","backgroundPosition","CoverPhotoUpload","inputEl","esm_PhotoCamera","ProfileStyles","info","imgContainer","ProfileInfo","handleFileChange","_yield$client$mutate","isCover","textAlign","following","postContainer","Profile","Profile_CoverPhotoUpload","Profile_ProfileInfo","SEARCH_USERS","search_templateObject","useDebounce","delay","debouncedValue","setDebouncedValue","timeOut","setTimeout","clearTimeout","headerStyles","_popper","appBar","toolBar","search","searchIcon","inputRoot","inputInput","grow","flexGrow","menuIcon","appName","popper","MenuWrapper","isOpen","transition","disablePortal","TransitionProps","Grow","transformOrigin","square","SearchResult","searchAnchorEl","messageSearch","AppHeader_MenuWrapper","u","Link","Search","searchQuery","setSearchQuery","_React$useState5","_React$useState6","foundUsers","setFoundUsers","_React$useState7","_React$useState8","isSearchOpen","setIsSearchOpen","_React$useState9","_React$useState10","setLoading","inputBaseClasses","debounceSearchQuery","searchUsers","Search_default","InputBase","replace","handleChange","searchResult","useStyles","textDecoration","online","ChatHeading","chatUser","isOnline","components_Search_Search","submit","borderTop","borderBottom","borderRight","conversation","messageWrapper","ChatConversations","messages","authUser","isAuthUserSender","sender","lastMessageSender","lastMessage","dummyMessages","cratedAt","withRouter","match","params","Message_ChatHeading","Message_ChatConversations","GET_CONVERSATIONS","message_templateObject","GET_NEW_CONVERSATIONS","message_templateObject2","selected","notSeen","MessageUsers","authUserId","subscribeToMore","updateQuery","subscriptionData","newConversation","oldConversations","getConversations","some","toConsumableArray","Create_default","seen","react_router_dom","MessageStyles","Message","Message_MessageUsers","Message_MessageChat","HeaderMessageDropDown","messageAnchorEl","messageData","MenuList","MenuItem","Notification","notification","follow","senderName","showPostImage","HeaderNotificationDropDown","dropDownData","notificationAnchorEl","notifications","n","App_Notification","removeItem","resetStore","push","HeaderUserDropDown","userAnchorEl","components_Logout","HeaderDropDowns","dropDownOpen","NOTIFICATION","AppHeader_HeaderNotificationDropDown","AppHeader_HeaderMessageDropDown","USER","AppHeader_HeaderUserDropDown","AppHeader","setNotifications","isDrawerOpen","setIsDrawerOpen","setDropDownData","setDropDownOpen","openDropDown","contains","handleIconClick","dropdownType","AppBar","Toolbar","Menu_default","AppInfo","Badge","badgeContent","Notifications","Mail","AccountCircle","AppHeader_HeaderDropDowns","Drawer","App_Navigation","PageContainer","appLayoutStyles","@global","*::-webkit-scrollbar","*::-webkit-scrollbar-thumb","middle","extreme","appColors","desktopDrawer","grid","dispatch","App_AppHeader_AppHeader","CssBaseline","Hidden","smDown","react_router","exact","path","render","pages_Home_Home","pages_People_People","pages_Profile_Profile","pages_Message_Message","formStyles","signupText","subText","validate","fields","email","password","test","String","toLocaleLowerCase","refetch","location","values","setValues","setError","signup","response","setItem","signupToken","graphQLErrors","_e$target","components_TextField","label","SignIn","emailOrUsername","signin","signinToken","pathname","prototype","PropTypes","object","isRequired","func","ForgotPassword","setEmail","setSubText","requestPassReset","result","align","AuthHeader","AuthHeader_AppBar","AuthHeader_Toolbar","AuthHeader_Typography","varaiant","ResetPassword","url","URLSearchParams","get","errors","setErrors","resetPassword","mutationLoading","newPassword","passwordConfirmation","passwordResetToken","AuthLayout","Auth_SignUp","Auth_SignIn","Auth_ForgotPassword","scrollTo","notification_templateObject","notification_templateObject2","notification_templateObject3","SELECTED_COLOR_SCHEME","NOTIFICATION_CREATED_OR_DELETED","notification_templateObject4","App","_subscriptionData$dat","notificationCreatedOrDeleted","newNotifications","getAuthUser","split","oldNotifications","findIndex","splice","App_ScrollTop","App_AppLayout","Auth_AuthLayout","overrides","MuiBadge","colorSecondary","apiURL","webSocketApiUrl","cache","InMemoryCache","wsLink","WebSocketLink","uri","reconnect","connectionParams","uploadLink","createUploadLink","terminatingLink","_ref3","definition","getMainDefinition","kind","ApolloClient","link","from","onError","networkError","createApolloClient","_apollo_client","ThemeProvider","store_StoreProvider","components_App_App"],"mappings":"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","file":"static/js/main.e0fde8ac.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/background2.986d82ee.jpg\";","import { ApolloLink, Observable } from 'apollo-link';\n\n\n/**\n * create an apollo link to attach headers to our operations\n */\n\n export const createAuthLink = () => {\n     const request = operation => {\n         const token = localStorage.getItem(\"token\");\n         operation.setContext({\n             headers: {\n                \"authorization\": token\n             }\n         })\n     };\n\n     return new ApolloLink((operation, forward) => {\n         let observable;\n         new Observable(observer => {\n             Promise.resolve(operation)\n             .then(oper => request(oper))\n             .then(() => { //forwaring the operation returns an observable we can subscribe to\n                 observable = forward(operation).subscribe({\n                     next: observer.next.bind(observer),\n                     complete: observer.complete.bind(observer),\n                     error: observer.bind(observer)\n                 });\n             }).catch(observer.error.bind(observer));\n\n             /**\n              * unsubscribe from the subscription\n              */\n             return () => {\n                 if(observable) observable.unsubscribe();\n             }\n         })\n     })\n }\n\n//  next, error,  complete are events emitted by Observables during their lifetime.","import { ApolloClient, split } from '@apollo/client'; \nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport { ApolloLink } from 'apollo-link';\nimport { createUploadLink } from 'apollo-upload-client';\n\nimport { onError } from 'apollo-link-error';\nimport { createAuthLink } from './createAuthLink';\n\nimport { setContext } from '@apollo/client/link/context';\nimport { WebSocketLink } from '@apollo/client/link/ws';\nimport { getMainDefinition } from '@apollo/client/utilities'\n\n// a partial solution while I don't debug {createAuthLink}\nconst myAuthLink = setContext((_,{ headers }) => {\n    const token = localStorage.getItem(\"token\");\n    if(!token){\n        return;\n    }\n    return {\n        headers: {\n            ...headers,\n            authorization: token\n        }\n    }\n});\n\n\n/**\n * error handling function\n * boilerplate provided by the onError link itself\n */\n\nconst handleErrors = () => {\n    return onError(({graphQLErrors, networkError}) => {\n        if(graphQLErrors){\n            console.log(`graphQLErrors: ${graphQLErrors[0].message}`);\n        }\n        if(networkError){\n            console.log(`Network Error: ${networkError}`);\n        }\n    })\n}\n// \n/**\n * create a apollo client\n * @param {string} apiURL \n * @param {string} webSocketApiUrl\n */\nexport const createApolloClient = (apiURL, webSocketApiUrl) => {\n    const cache = new InMemoryCache();\n    const authLink = createAuthLink();\n    const token = localStorage.getItem(\"token\");\n\n    // websocket link\n    const wsLink = new WebSocketLink({\n        uri: webSocketApiUrl,\n        options:{\n            reconnect: true,\n            connectionParams:{\n                authorization: token\n            }\n        }\n    })\n\n    // the terminating link contains the apiUrl\n    // it also creates an http link\n    const uploadLink = createUploadLink({ uri: apiURL });\n\n\n    // DIRECTIONAL COMPOSITION\n    // we're handling only subscriptions over webSocket\n    const terminatingLink = split(({ query }) => {\n        const definition = getMainDefinition(query);\n        return(\n            definition.kind === 'OperationDefinition' &&\n            definition.operation === 'subscription'\n        )\n    }, \n    wsLink, //wsLink will be used if the function returns a truthy value\n    uploadLink\n    )\n\n    // using myAuthLink for now inst\n    // ADDITIVE COMPOSITION\n    return new ApolloClient({\n        link: ApolloLink.from([handleErrors(), myAuthLink, terminatingLink]),\n        cache\n    });\n}\n// * the url is passed to createUpload link\n// * as it the terminating one","// available routes of the app\n\n// auth routes\nexport const SIGNUP =\"/signup\";\nexport const SIGNIN =\"/\";\nexport const FORGOT_PASSWORD='/forgotPassword';\nexport const RESET_PASSWORD='/reset-password'\n\n// app routes\nexport const HOME = \"/home\";\nexport const POST = \"/post/:id\"\n\nexport const BROWSE = \"/browse\"\nexport const PEOPLE = \"/people\"\nexport const NOTIFICATIONS = \"/notifications\"\nexport const MESSAGE = \"/message/:id\"\nexport const ABOUT = \"/about\"\nexport const PROFILE = \"/profile/:username\"\n\n","/**\n * authentication store\n */\n\n /**\n  * action types\n  */\nexport const SET_AUTH_USER = \"SET_AUTH_USER\"\nexport const CLEAR_AUTH_USER = \"CLEAR_AUTH_USER\"\n\nexport const authInitialState = {\n    user: null\n}\n\nexport const authReducer = (state = authInitialState, action) => {\n    switch (action.type) {\n        case SET_AUTH_USER:\n            return{\n                ...state,\n                user: action.payload\n            }\n        case CLEAR_AUTH_USER:\n            return{\n                ...state,\n                ...authInitialState\n            }\n        default: return authInitialState\n    }\n}","//not used yet, just for the sake of example\n\nconst SET_USER_MESSAGE = \"SET_USER_MESSAGE\";\nconst CLEAR_USER_MESSAGE = \"CLEAR_USER_MESSAGE\";\n\nexport const messageInitialState = {\n    message: \"\"\n}\n\nexport const messageReducer = (state = messageInitialState, action) => {\n    switch(action.type){\n        case SET_USER_MESSAGE:\n            return{\n                ...state,\n                message: action.payload\n            }\n        case CLEAR_USER_MESSAGE:\n            return{\n                ...state,\n                ...messageInitialState\n            }\n        default: return messageInitialState\n    }\n}","import React, { createContext, useContext, useReducer } from 'react';\n// useReducer reuturn [state, dispatch]\n\n/**\n * intitial state and reducers imports\n */\nimport { authInitialState, authReducer } from './auth';\nimport { messageInitialState, messageReducer } from './message';\n\n/**\n * create context\n */\nconst StoreContext = createContext();\n\n/**\n * combine inital states\n */\nconst store = {\n    auth: authInitialState,\n    message: messageInitialState\n}\n\n/**\n * \n * @param {obj} store the combined state object\n * @param {obj} action action type and payload\n */\nconst reducers = (store, action) => ({\n    auth: authReducer(store.auth, action),\n    message: messageReducer(store.message, action)\n});\n\n\n/**\n * \n * @param {*} children wrapped components\n */\n\n // store should return something\nexport const StoreProvider = ({children}) => {\n    return <StoreContext.Provider value={useReducer(reducers, store)}>\n         { children }\n    </StoreContext.Provider>\n}\n\n/**\n * custom hook for consuming the store\n */\n\n export const useStore = () => useContext(StoreContext);\n//  useReducer returns [ state, dispatch ]\n// which can be destructured from the context like\n// const [reducers, dispatch] = useStore();\n// const [{auth, message}, dispatch] = useStore();\n\n\n\n//sort of a custom useStore\n// when importing into a file\n// we can access the state by destructuring like\n// const [{auth, message}] = useStore();\n//meaning it returns our init state in an array","import React from \"react\";\nimport { NavLink as RouterLink } from \"react-router-dom\";\nimport { Button, ListItem } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core\";\nimport clsx from \"clsx\";\nimport { colors } from \"@material-ui/core\";\n\n// temporary palette\nconst palette = {\n  background: {\n    dark: \"#F4F6F8\",\n    default: colors.common.white,\n    paper: colors.common.white,\n  },\n  primary: {\n    main: colors.indigo[500],\n  },\n  secondary: {\n    main: colors.indigo[500],\n  },\n  text: {\n    primary: colors.blueGrey[900],\n    secondary: colors.blueGrey[600],\n  },\n};\n\nconst navItemStyles = makeStyles((theme) => ({\n  item: {\n    display: \"flex\",\n    paddingTop: 0,\n    paddingBottom: 0,\n  },\n  button: {\n    color: palette.text.secondary,\n    fontWeight: theme.typography.fontWeightMedium,\n    width: \"100%\",\n    padding: \"10px 8px\",\n    justifyContent: \"flex-start\",\n    textTransform: \"none\",\n    letterSpacing: 0.1,\n  },\n  icon: {\n    marginRight: theme.spacing(1),\n  },\n  title: {\n    marginRight: \"auto\",\n  },\n  active: {\n    color: \"#fdfdfd\",\n    backgroundColor: \"#505050\",\n  },\n}));\n\nconst NavItem = ({ icon: Icon, title, href, className, ...rest }) => {\n  const classes = navItemStyles();\n\n  return (\n    <ListItem\n      disableGutters\n      className={clsx(classes.item, className)}\n      {...rest}\n    >\n      <Button\n        component={RouterLink} // notice NavLink (RouterLink) is the component\n        to={href}\n        className={classes.button}\n        activeClassName={classes.active}\n      >\n        {Icon && <Icon className={classes.icon} />}\n        <span className={classes.title}>{title}</span>\n      </Button>\n    </ListItem>\n  );\n};\n\nNavItem.propTypes = {\n  icon: PropTypes.elementType,\n  title: PropTypes.string.isRequired,\n  href: PropTypes.string.isRequired,\n};\n\nexport default NavItem;\n","import React from \"react\";\nimport { List, Typography, makeStyles, Box, Avatar } from \"@material-ui/core\";\nimport { NavLink as RouterLink } from \"react-router-dom\";\nimport * as Routes from \"../../routes\";\nimport { useStore } from \"../../store\";\nimport Divider from \"@material-ui/core/Divider\";\n\n// icons\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport WebIcon from \"@material-ui/icons/Web\";\nimport PeopleIcon from \"@material-ui/icons/People\";\nimport NotificationsActiveIcon from \"@material-ui/icons/NotificationsActive\";\nimport MessageIcon from \"@material-ui/icons/Message\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport NavItem from \"./NavItem\";\n\nconst navStyles = makeStyles((theme) => ({\n  name: {\n    fontWeight: 500,\n    fontSize: 16,\n    fontFamily: \"roboto\",\n  },\n  avatar: {\n    width: 64,\n    height: 64,\n    cursor: \"pointer\",\n  },\n}));\n\nconst Navigation = () => {\n  const classes = navStyles();\n  const [{ auth }] = useStore();\n\n  const options = [\n    { title: \"Home\", icon: HomeIcon, to: Routes.HOME },\n    { title: \"Browse Feed\", icon: WebIcon, to: Routes.BROWSE },\n    { title: \"People\", icon: PeopleIcon, to: Routes.PEOPLE },\n    {\n      title: \"Notifications\",\n      icon: NotificationsActiveIcon,\n      to: Routes.NOTIFICATIONS,\n    },\n    { title: \"Messages\", icon: MessageIcon, to: Routes.MESSAGE },\n    { title: \"About\", icon: InfoIcon, to: Routes.ABOUT },\n  ];\n\n  const list = options.map((item, index) => (\n    <NavItem key={index} icon={item.icon} title={item.title} href={item.to} />\n  ));\n\n  return (\n    <>\n      <Box height=\"100%\" display=\"flex\" flexDirection=\"column\">\n        <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" p={2}>\n          <Avatar\n            src={auth.user ? auth.user.image : null}\n            component={RouterLink}\n            className={classes.avatar}\n            to={Routes.HOME}\n          />\n          <Typography\n            variant=\"primary\"\n            color=\"textPrimary\"\n            variant=\"h6\"\n            className={classes.name}\n          >\n            {auth.user ? auth.user.fullName : null}\n          </Typography>\n          <Typography color=\"textSecondary\">Software Developer</Typography>\n        </Box>\n        <Divider />\n        <Box p={2}>\n          <List>{list}</List>\n        </Box>\n      </Box>\n    </>\n  );\n};\n\nexport default Navigation;\n","import { createMuiTheme } from \"@material-ui/core\";\n\nexport const theme = createMuiTheme({\n    palette: {\n        primary:{\n         main: \"#1a237e\", //indigo9\n        // main: \"#1a237e\"\n        }, \n        secondary:{\n         main: \"#c5cae9\" //indigo1\n        // main: \"#ffffff\"\n        }\n    },\n    screen: {\n        xs: 540,\n        sm: 640,\n        md: 1007,\n        lg: 1100,\n        xl: 1230\n    }\n})\n\nexport const shadows = {\n        sm: '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',\n        md: 'rgba(0, 0, 0, 0.3) 0px 1px 8px 0px',\n        lg: '0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)',\n        xl: '0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)',\n}\n\nexport const colors = {\n    darkGrey: \"#424242\",\n    lighRed: \"#ff5722\",\n    black: \"black\",\n    // top darker\n    indigo9: \"#1a237e\",\n    indigo8: \"#283593\",\n    indigo6: \"#3949ab\",\n    indigo4: \"#5c6bc0\",\n    indigo1: \"#c5cae9\",\n    indigo0: \"#e8eaf6\",\n    white: \"white\",\n    black: \"black\",\n    lightGrey: \"#e0e0e0\"\n}\n\nexport const palette = {\n    LIGHT: {\n        primary: {\n            main: \"#000000\",\n            dark:\"\",\n            light: \"\"\n        },\n        secondary: {\n            main: \"#a7a6a6\",\n            dark: \"#888584\", //icons fill color\n            light: \"#d8d8d847\"\n        }\n    }\n}","import { gql } from '@apollo/client';\n\n// mutations\nexport const CREATE_POST =gql`\n    mutation($input: CreatePostInput!){\n        createPost(input: $input){\n            title\n            id\n        }\n    }\n`\n\nexport const DELETE_POST = gql`\n    mutation($input: DeletePostInput!){\n        deletePost(input: $input){\n            id\n        }\n    }\n`\n\n// payloads\nconst postAuthorPayload = `\n    author {\n        id\n        username\n        image\n        fullName\n        followers{\n            id\n            follower\n            following\n        }\n        notifications {\n            id\n            seen\n            like{\n             id\n            }\n            comment{\n             id\n            }\n            follow{\n             id\n            }\n        }\n    }\n`\nconst postCommentsPayload = `\ncomments {\n    id\n    comment\n    author {\n        id\n        username\n        fullName\n        image\n    }\n}\n`\nconst postLikePayload =`\n    likes {\n        id\n        user{\n         id\n         fullName\n        }\n    }\n`\n\n// queries\nexport const GET_FOLLOWED_POSTS = gql`\n    query($userId: ID!, $skip: Int, $limit: Int){\n        getFollowedPosts(userId: $userId, skip: $skip, limit: $limit){\n            count\n            posts {\n                id\n                title\n                image\n                imagePublicId\n                createdAt\n                ${postAuthorPayload}\n                ${postCommentsPayload}\n                ${postLikePayload}\n            }\n        }\n    }\n`","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { AddAPhoto } from \"@material-ui/icons\";\n\nimport { IconButton } from \"@material-ui/core\";\nimport { colors, theme } from \"../utils/theme\";\n\nimport PhotoCameraIcon from \"@material-ui/icons/PhotoCamera\";\n\nconst inputStyles = makeStyles({\n  input: {\n    display: \"none\",\n  },\n  avatar: {\n    color: \"#ffffff\",\n    backgroundColor: \"#7c7d82\",\n    width: 50,\n    height: 50,\n    borderRadius: 5,\n    padding: 15,\n    [theme.breakpoints.down(\"sm\")]: {\n      padding: 3,\n      margin: 0,\n      borderRadius: 2,\n    },\n  },\n});\n\nconst UploadPostImage = ({ handleImageChange }) => {\n  const classes = inputStyles();\n  const triggerClick = () => {\n    document.getElementById(\"post-image\").click();\n  };\n\n  return (\n    <>\n      <input\n        type=\"file\"\n        onChange={handleImageChange}\n        accept=\"image/x-png,image/jpeg\"\n        id=\"post-image\"\n        className={classes.input}\n      />\n      <label htmlFor=\"post-image\">\n        <IconButton onClick={triggerClick} className={classes.avatar}>\n          <PhotoCameraIcon />\n        </IconButton>\n      </label>\n    </>\n  );\n};\n\nexport default UploadPostImage;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { colors, shadows } from \"../utils/theme\";\n\nconst previewStyles = makeStyles({\n  container: {\n    width: 150,\n    height: 150,\n    position: \"relative\",\n    borderRadius: 5,\n  },\n  image: {\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"100%\",\n    objectFit: \"cover\",\n  },\n});\n\nconst ImagePreview = ({ imageSource }) => {\n  const classes = previewStyles();\n\n  return (\n    <div className={classes.container}>\n      <img src={imageSource} className={classes.image} />\n    </div>\n  );\n};\n\nexport default ImagePreview;\n","//disable-eslint\nimport { gql } from \"@apollo/client\"\n\nexport const SIGN_UP = gql`\n  mutation($input: SignupInput!) {\n    signup(input: $input) {\n        signupToken\n    }\n  }\n`\n\nexport const SIGN_IN = gql`\n  mutation($input: SigninInput!) {\n    signin(input: $input) {\n      signinToken\n    }\n  }\n`\n\nexport const REQUEST_PASS_RESET = gql`\n  mutation($input: PassResetInput!){\n    requestPassReset(input: $input){\n      message\n    }\n  }\n`\n\nexport const VERIFY_RESET_PASSWORD_TOKEN = gql`\n  query($email: String!, $token: String!){\n    verifyResetPasswordToken(email: $email, token: $token){\n      message\n    }\n  }\n`\n\nexport const RESET_PASSWORD = gql`\nmutation ($input: ResetPasswordInput!){\n  resetPassword(input: $input){\n    token\n  }\n}\n`\n\nexport const GET_AUTH_USER = gql`\nquery{\n  getAuthUser{\n    id\n    fullName\n    email\n    username\n    image\n    posts{\n      id\n    }\n    following{\n      id\n    }\n    followers{\n      id\n    }\n    likes{\n      id\n    }\n    notifications{\n      id\n      sender{\n        id\n        fullName\n        username\n        image\n      }\n      follow{\n        id\n      }\n      like{\n        id\n        post{\n          id\n          image\n        }\n      }\n      comment{\n        id\n        post{\n          id\n          image\n        }\n      }\n    }\n  }\n}\n`\nexport const GET_USERS = gql`\nquery($userId: ID!, $skip: Int, $limit: Int){\n  getUsers(userId: $userId, skip: $skip, limit: $limit){\n    count\n    users{\n      id\n      fullName\n      username\n      email\n      image\n      following{\n        id\n        follower\n      }\n      followers{\n        id\n        follower\n      }\n    }\n  }\n}\n`\n\nexport const SUGGEST_PEOPLE = gql`\n  query($userId: ID!){\n    suggestPeople(userId: $userId){\n      count\n      users{\n        fullName\n        username\n        image\n      }\n    }\n  }\n`\n\nexport const UPLOAD_USER_PHOTO = gql`\n  mutation($input:UploadUserPhotoInput!){\n    uploadUserPhoto(input: $input){\n      fullName\n      username\n      email\n      image\n    }\n  }\n`\n\nexport const GET_USER = gql`\n  query($username: String, $userId: ID){\n    getUser(username: $username, userId: $userId){\n      image\n      username\n      fullName\n      isOnline\n    }\n  }\n`","import { Avatar, Box, Button, makeStyles } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nimport { useStore } from \"../store\";\nimport { AccountCircle } from \"@material-ui/icons\";\nimport { MAX_POST_IMAGE_SIZE } from \"../constants/ImageSizeLimit\";\nimport CloudUploadIcon from \"@material-ui/icons/CloudUpload\";\n\n// mutation\nimport { CREATE_POST } from \"../graphql/post\";\nimport { useMutation } from \"@apollo/client\";\nimport UploadPostImage from \"./UploadPostImage\";\nimport ImagePreview from \"./ImagePreview\";\n\nimport { colors, shadows } from \"../utils/theme\";\nimport { GET_AUTH_USER } from \"../graphql/user\";\nimport { GET_FOLLOWED_POSTS } from \"../graphql/post\";\nimport { HOME_PAGE_POSTS_LIMIT } from \"../constants/DataLimit\";\n\nconst postStyles = makeStyles((theme) => ({\n  container: {\n    borderColor: \"#afafaf\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    backgroundColor: colors.white,\n    padding: 5,\n    [theme.breakpoints.down(\"sm\")]: {\n      padding: 0,\n    },\n  },\n  row1: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    padding: 5,\n    color: colors.lighRed,\n  },\n  textarea: {\n    marginLeft: 10,\n    marginRight: 10,\n    width: \"100%\",\n    height: 50,\n    outline: \"none\",\n    border: \"1px solid #d0d0d0\",\n    paddingTop: 10,\n    paddingLeft: 15,\n    backgroundColor: \"#efefef\",\n    [theme.breakpoints.down(\"sm\")]: {\n      margin: 0,\n      width: \"100%\",\n      height: 50,\n      paddingTop: 5,\n      paddingLeft: 5,\n    },\n  },\n  uploadIcon: {\n    padding: 5,\n    color: \"white\",\n  },\n  buttons: {\n    marginTop: 10,\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"flex-end\",\n    [theme.breakpoints.down(\"sm\")]: {\n      margin: 2,\n    },\n  },\n}));\n\nconst CreatePost = () => {\n  const [isFocused, setIsFocused] = useState(null);\n  const [title, setTitle] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [uploadError, setUploadError] = useState(\"\");\n  const [{ auth }] = useStore();\n  const classes = postStyles();\n\n  const [createPost, { loading }] = useMutation(CREATE_POST, {\n    refetchQueries: [\n      { query: GET_AUTH_USER },\n      {\n        query: GET_FOLLOWED_POSTS,\n        variables: { userId: auth.user.id, limit: HOME_PAGE_POSTS_LIMIT },\n      },\n    ],\n  });\n  const isUploadDisabled = loading || (!loading && !title && !image);\n\n  // title change\n  const handleChange = (e) => setTitle(e.target.value);\n\n  const handleReset = () => {\n    setIsFocused(false);\n    setTitle(\"\");\n    setImage(\"\");\n  };\n\n  // image change\n  const handleImageChange = (e) => {\n    const file = e.target.files[0];\n    if (!file) {\n      return;\n    }\n    if (file.size >= MAX_POST_IMAGE_SIZE) {\n      setUploadError(\n        `Image is size should not exceed ${MAX_POST_IMAGE_SIZE / 1000000} mb`\n      );\n    }\n    setImage(file);\n  };\n\n  const handleSubmit = async (e) => {\n    if (!title && !image) {\n      return;\n    }\n    e.preventDefault();\n    try {\n      const res = await createPost({\n        variables: { input: { title, authorId: auth.user.id, image } },\n      });\n    } catch (error) {\n      console.log(error);\n    }\n    handleReset();\n  };\n\n  return (\n    <>\n      <form onSubmit={(e) => handleSubmit(e, createPost)}>\n        <Box border={1} className={classes.container}>\n          <div className={classes.row1}>\n            <div className={classes.avatar}>\n              {/* <AccountCircle fontSize=\"large\" /> */}\n              <Avatar src={auth.user.image} />\n            </div>\n\n            <textarea\n              className={classes.textarea}\n              placeholder=\"What's on your mind...\"\n              value={title}\n              onChange={handleChange}\n              focused={isFocused}\n              onFocus={() => setIsFocused(true)}\n            />\n\n            <div className={classes.uploadIcon}>\n              <UploadPostImage handleImageChange={handleImageChange} />\n            </div>\n          </div>\n\n          {image && <ImagePreview imageSource={URL.createObjectURL(image)} />}\n          {uploadError}\n          {isFocused && (\n            <div className={classes.buttons}>\n              <Button\n                color=\"secondary\"\n                size=\"small\"\n                onClick={handleReset}\n                variant=\"outlined\"\n              >\n                {!title && !image ? `CLOSE` : `CANCEL`}\n              </Button>\n              <Button\n                color=\"secondary\"\n                size=\"small\"\n                startIcon={<CloudUploadIcon />}\n                variant=\"contained\"\n                style={{ marginLeft: 5 }}\n                type=\"submit\"\n                disabled={isUploadDisabled}\n              >\n                SHARE\n              </Button>\n            </div>\n          )}\n        </Box>\n      </form>\n    </>\n  );\n};\nexport default CreatePost;\n","export const HOME_PAGE_POSTS_LIMIT = 10;\n// reduce the amount of posts per page after implementing \n// infinite scrolling","export const MAX_POST_IMAGE_SIZE = 3000000 //3 millions bytes or 3 megabytes","import { gql } from \"@apollo/client\";\n\nexport const CREATE_FOLLOW = gql`\n    mutation($input: CreateFollowInput!){\n        createFollow(input: $input){\n            id\n        }\n    }\n`\n\nexport const DELETE_FOLLOW = gql`\n    mutation($input: DeleteFollowInput!){\n        deleteFollow(input: $input){\n            id\n        }\n    }\n`","import { useMutation } from \"@apollo/client\";\nimport { Button } from \"@material-ui/core\";\nimport React from \"react\";\nimport { CREATE_FOLLOW, DELETE_FOLLOW } from \"../graphql/follow\";\nimport { useStore } from \"../store\";\nimport PropTypes from \"prop-types\";\n\n// Queries\nimport { GET_FOLLOWED_POSTS } from \"../graphql/post\";\nimport { GET_AUTH_USER, GET_USERS, SUGGEST_PEOPLE } from \"../graphql/user\";\nimport { HOME_PAGE_POSTS_LIMIT } from \"../constants/DataLimit\";\n\nconst Follow = ({ user, icon: Icon }) => {\n  const [{ auth }] = useStore();\n\n  const isFollowing = user.followers.find((f) => f.follower === auth.user.id);\n  const operation = isFollowing ? \"delete\" : \"create\";\n\n  const options = {\n    create: {\n      mutation: CREATE_FOLLOW,\n      variables: {\n        currentUserId: auth.user.id, // current user is the following\n        followedUserId: user.id, //follwed user (follower)\n      },\n    },\n    delete: {\n      mutation: DELETE_FOLLOW,\n      variables: {\n        followId: isFollowing ? isFollowing.id : null,\n      },\n    },\n  };\n\n  // TODO: refetch some queries\n  const [mutate] = useMutation(options[operation].mutation, {\n    refetchQueries: [\n      {\n        query: GET_FOLLOWED_POSTS,\n        variables: {\n          userId: auth.user.id,\n          skip: 0,\n          limit: HOME_PAGE_POSTS_LIMIT,\n        },\n      },\n      { query: GET_AUTH_USER },\n      { query: GET_USERS, variables: { userId: auth.user.id } },\n      { query: SUGGEST_PEOPLE, variables: { userId: auth.user.id } },\n    ],\n  });\n\n  const handleButtonClick = async () => {\n    console.log(\"USER\", user);\n    console.log(\"ISFOLLOWING\", isFollowing);\n    try {\n      await mutate({\n        variables: {\n          input: { ...options[operation].variables },\n        },\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <Button\n        variant=\"contained\"\n        color={isFollowing ? \"primary\" : \"secondary\"}\n        size=\"small\"\n        onClick={handleButtonClick}\n        fullWidth\n      >\n        {Icon && <Icon style={{ marginRight: 10 }} />}\n        {!isFollowing ? \"Follow\" : \"Unfollow\"}\n      </Button>\n    </React.Fragment>\n  );\n};\n\nFollow.propTypes = {\n  user: PropTypes.object.isRequired,\n  icon: PropTypes.elementType,\n};\n\nexport default Follow;\n","import React from \"react\";\nimport {\n  MenuList,\n  MenuItem,\n  Paper,\n  ClickAwayListener,\n  Button,\n} from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport { generatePath } from \"react-router-dom\";\nimport * as Routes from \"../../routes\";\nimport { useStore } from \"../../store\";\nimport { Delete, FileCopy, PersonAdd } from \"@material-ui/icons\";\nimport Follow from \"../Follow\";\n\nconst PostCardOptions = ({ closeMenu, postId, postAuthor, deletePost }) => {\n  const [{ auth }] = useStore();\n\n  const font = { fontSize: 12 };\n  //TODO: REPLACE REACT_APP_CLIENT_URL when deployed,\n  const copyUrl = () => {\n    let absUrl = `${process.env.REACT_APP_CLIENT_URL}${generatePath(\n      Routes.POST,\n      {\n        id: postId,\n      }\n    )}`;\n    navigator.clipboard.writeText(absUrl);\n    closeMenu();\n  };\n\n  // if the current user id matches the post author id\n  const isUserPost = postAuthor.id === auth.user.id;\n\n  return (\n    <>\n      <ClickAwayListener onClickAway={closeMenu}>\n        <Paper\n          elevation={3}\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"flex-start\",\n          }}\n        >\n          <Button style={font} onClick={copyUrl}>\n            {\" \"}\n            <FileCopy style={{ marginRight: 10 }} />\n            Copy URL\n          </Button>\n          {isUserPost && (\n            <Button style={font} onClick={deletePost}>\n              {\" \"}\n              <Delete style={{ marginRight: 10 }} />\n              Delete\n            </Button>\n          )}\n          {!isUserPost && <Follow user={postAuthor} icon={PersonAdd} />}\n        </Paper>\n      </ClickAwayListener>\n    </>\n  );\n};\n\nexport default PostCardOptions;\n\nPostCardOptions.propTypes = {\n  closeMenu: PropTypes.func.isRequired,\n  postId: PropTypes.string.isRequired,\n  postAuthor: PropTypes.object.isRequired, // author of the post (postAuthor)\n  deletePost: PropTypes.func.isRequired,\n};\n","import { gql } from '@apollo/client';\n\nexport const CREATE_COMMENT = gql`\n    mutation($input: CreateCommentInput!){\n        createComment(input: $input){\n            id\n        }\n    }\n`\n\nexport const DELETE_COMMENT = gql`\n    mutation($input: DeleteCommentInput!){\n        deleteComment(input: $input){\n            id\n        }\n    }\n`","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, makeStyles, TextField, IconButton } from \"@material-ui/core\";\nimport { theme } from \"../utils/theme\";\nimport { CREATE_COMMENT } from \"../graphql/comment\";\nimport { useMutation } from \"@apollo/client\";\nimport { useStore } from \"../store\";\nimport { Send } from \"@material-ui/icons\";\n\nimport { GET_AUTH_USER } from \"../graphql/user\";\nimport { GET_FOLLOWED_POSTS } from \"../graphql/post\";\nimport { HOME_PAGE_POSTS_LIMIT } from \"../constants/DataLimit\";\n\nconst commenStyles = makeStyles({\n  textField: {\n    marginRight: 5,\n    paddingTop: 10,\n    paddingLeft: 15,\n    [theme.breakpoints.down(\"sm\")]: {\n      marginBottom: 2,\n    },\n  },\n  form: {\n    padding: 5,\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"flex-end\",\n    [theme.breakpoints.down(\"sm\")]: {\n      // flexDirection: \"column\",\n    },\n  },\n  button: {\n    [theme.breakpoints.down(\"sm\")]: {\n      // width: \"100%\",\n    },\n  },\n});\n\nconst CreateComment = ({ focus, postId }) => {\n  const classes = commenStyles();\n  const textareaEl = React.useRef(null);\n  const buttonEl = React.useRef(null);\n\n  const [comment, setComment] = React.useState(\"\");\n  const [{ auth }] = useStore();\n  const [createComment, { loading }] = useMutation(CREATE_COMMENT, {\n    refetchQueries: [\n      { query: GET_AUTH_USER },\n      {\n        query: GET_FOLLOWED_POSTS,\n        variables: { userId: auth.user.id, limit: HOME_PAGE_POSTS_LIMIT },\n      },\n    ],\n  });\n\n  const handleChange = (e) => setComment(e.target.value);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await createComment({\n        variables: { input: { comment, authorId: auth.user.id, postId } },\n      });\n    } catch (err) {\n      console.log(err);\n    }\n    setComment(\"\");\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      e.preventDefault();\n      buttonEl.current.click();\n      setComment(\"\");\n    }\n  };\n\n  // focus is a boolean.. we'll focus on the\n  // text area when comment is open\n  React.useEffect(() => {\n    focus && textareaEl.current.focus();\n  }, [focus]);\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} className={classes.form}>\n        <TextField\n          inputRef={textareaEl}\n          multiline\n          fullWidth\n          className={classes.textField}\n          onChange={handleChange}\n          onKeyDown={handleKeyDown}\n          value={comment}\n          placeholder=\"comment...\"\n        />\n        <IconButton\n          size=\"small\"\n          variant=\"contained\"\n          className={classes.button}\n          color=\"primary\"\n          type=\"submit\"\n          ref={buttonEl}\n          type=\"submit\"\n          disabled={!comment.trim()}\n        >\n          <Send />\n        </IconButton>\n      </form>\n    </>\n  );\n};\n\nexport default CreateComment;\n\nCreateComment.propTypes = {\n  focus: PropTypes.bool.isRequired,\n  postId: PropTypes.string.isRequired,\n};\n","import { gql } from '@apollo/client';\n\nexport const CREATE_LIKE = gql`\n    mutation($input: CreateLikeInput!){\n        createLike(input: $input){\n            id\n        }\n    }\n`\nexport const DELETE_LIKE = gql`\n    mutation($input: DeleteLikeInput!){\n        deleteLike(input: $input){\n            id\n        }\n    }\n`","import React from \"react\";\nimport { ThumbUpAlt } from \"@material-ui/icons\";\nimport { IconButton } from \"@material-ui/core\";\nimport { useStore } from \"./../store\";\nimport PropTypes from \"prop-types\";\nimport { useMutation } from \"@apollo/client\";\nimport { HOME_PAGE_POSTS_LIMIT } from \"./../constants/DataLimit\";\n\n// mutation\nimport { CREATE_LIKE, DELETE_LIKE } from \"./../graphql/like\";\n\n// queries to refetch\nimport { GET_FOLLOWED_POSTS } from \"./../graphql/post\";\n\nconst Like = ({ likes, postId, author }) => {\n  // decide what operation to execute\n  // based on whether the current user has liked\n  // the post\n\n  const [{ auth }] = useStore();\n  const existedLike = likes.find((like) => like.user.id === auth.user.id);\n\n  const operation = existedLike ? \"delete\" : \"create\";\n\n  const options = {\n    create: {\n      mutation: CREATE_LIKE,\n      variables: { postId, userId: auth.user.id, authorId: author.id }, //notice variables value is an object\n    },\n    delete: {\n      mutation: DELETE_LIKE,\n      variables: { likeId: existedLike ? existedLike.id : null },\n    },\n  };\n\n  const [mutate] = useMutation(options[operation].mutation, {\n    // TODO: also refetch the user posts\n    refetchQueries: [\n      // { query: GET_AUTH_USER },\n      {\n        query: GET_FOLLOWED_POSTS,\n        variables: { userId: auth.user.id, limit: HOME_PAGE_POSTS_LIMIT },\n      },\n    ],\n  });\n\n  const handleButtonClick = async () => {\n    try {\n      await mutate({\n        variables: { input: { ...options[operation].variables } }, // spread the variables object\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <IconButton onClick={() => handleButtonClick(mutate)}>\n      <ThumbUpAlt style={{ color: existedLike ? \"#0b80ef\" : \"#d4d4d4\" }} />\n    </IconButton>\n  );\n};\n\nexport default Like;\n\nLike.propTypes = {\n  likes: PropTypes.array.isRequired,\n  postId: PropTypes.string.isRequired,\n  author: PropTypes.object,\n};\n\n// db.users.update({username:'mrjoe'}, {$set: {likes: []}})\n","import React, { Fragment } from \"react\";\nimport {\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  ListItemSecondaryAction,\n  Typography,\n  Divider,\n  Avatar,\n  makeStyles,\n  IconButton,\n  ClickAwayListener,\n} from \"@material-ui/core\";\n\nimport { Delete } from \"@material-ui/icons\";\nimport PropTypes from \"prop-types\";\n\nimport { useStore } from \"../../store\";\n\nimport { DELETE_COMMENT } from \"../../graphql/comment\";\nimport { useMutation } from \"@apollo/client\";\n\nimport { GET_AUTH_USER } from \"../../graphql/user\";\nimport { GET_FOLLOWED_POSTS } from \"../../graphql/post\";\nimport { HOME_PAGE_POSTS_LIMIT } from \"../../constants/DataLimit\";\n\nconst PostPopUpComments = ({ comments, userAvatar, closeComments }) => {\n  const [{ auth }] = useStore();\n\n  const [remove] = useMutation(DELETE_COMMENT, {\n    refetchQueries: [\n      { query: GET_AUTH_USER },\n      {\n        query: GET_FOLLOWED_POSTS,\n        variables: { userId: auth.user.id, limit: HOME_PAGE_POSTS_LIMIT },\n      },\n    ],\n  });\n\n  const deleteComment = async (commentId) => {\n    try {\n      await remove({\n        variables: {\n          input: { commentId },\n        },\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <ClickAwayListener onClickAway={closeComments}>\n      <List>\n        {comments.reverse().map((c) => (\n          <ListItem key={c.id}>\n            <ListItemAvatar>\n              <Avatar alt=\"user avatar\" src={c.author.image} />\n            </ListItemAvatar>\n            <ListItemText\n              primary={c.author.fullName}\n              secondary={\n                <Fragment>\n                  <Typography component=\"span\" variant=\"body2\">\n                    {/* 2 days ago */}\n                  </Typography>\n                  {c.comment}\n                </Fragment>\n              }\n            />\n            <ListItemSecondaryAction>\n              {auth.user.id === c.author.id && (\n                <IconButton onClick={() => deleteComment(c.id)}>\n                  <Delete />\n                </IconButton>\n              )}\n            </ListItemSecondaryAction>\n          </ListItem>\n        ))}\n        {comments.length > 1 && <Divider variant=\"inset\" component=\"li\" />}\n      </List>\n    </ClickAwayListener>\n  );\n};\n\nexport default PostPopUpComments;\n\nPostPopUpComments.propTypes = {\n  comments: PropTypes.array.isRequired,\n  userAvatar: PropTypes.string,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  makeStyles,\n  Card,\n  CardMedia,\n  CardContent,\n  Avatar,\n  IconButton,\n  Divider,\n  Popper,\n} from \"@material-ui/core\";\nimport { MoreVert, Comment } from \"@material-ui/icons\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\n\nimport { shadows } from \"../../utils/theme\";\nimport PostCardOptions from \"./PostCardOptions\";\nimport CreateComment from \"../CreateComment\";\nimport Like from \"../Like\";\nimport PostPopUpComments from \"../PostPopUp/PostPopUpComments\";\n\nimport { useStore } from \"../../store\";\n\n// delete post imports\nimport { useMutation } from \"@apollo/client\";\nimport { DELETE_POST } from \"../../graphql/post\";\nimport { GET_AUTH_USER } from \"../../graphql/user\";\nimport { GET_FOLLOWED_POSTS } from \"../../graphql/post\";\nimport { HOME_PAGE_POSTS_LIMIT } from \"../../constants/DataLimit\";\n\nimport { theme } from \"../../utils/theme\";\n\nconst postCardStyles = makeStyles({\n  card: {\n    marginTop: 20,\n    maxWidth: \"100%\",\n    boxShadow: shadows.md,\n\n    // transform: \"translate(-50%, -50%)\",\n    // backgroundColor: \"white\",\n    // position: \"absolute\",\n    // width: \"30%\"\n    [theme.breakpoints.down(\"sm\")]: {\n      maxWidth: \"100%\",\n    },\n  },\n  cardData: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    paddingLeft: 10,\n    paddingRight: 10,\n  },\n  icons: {\n    paddingX: 0,\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    paddingLeft: 10,\n    paddingRight: 10,\n  },\n  media: {\n    [theme.breakpoints.up(\"xl\")]: {\n      height: 600,\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      height: 300,\n    },\n    height: 400,\n    objectFit: \"cover\",\n  },\n  footer: {\n    position: \"relative\",\n  },\n});\n\nconst PostCard = ({\n  title,\n  fullName,\n  image,\n  avatar,\n  openModal,\n  likeNumber,\n  commentNumber,\n  likes,\n  postId,\n  postAuthor,\n  imagePublicId,\n  comments,\n}) => {\n  const classes = postCardStyles();\n  const [{ auth }] = useStore();\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  // if anchorEl has any value set it to null\n  // otherwise add the event currentTarget to it\n  const handleClick = (event) => {\n    setAnchorEl(anchorEl ? null : event.currentTarget);\n  };\n\n  const [isCommentOpen, setIsCommentOpen] = React.useState(false);\n\n  const [remove] = useMutation(DELETE_POST, {\n    refetchQueries: [\n      { query: GET_AUTH_USER },\n      {\n        query: GET_FOLLOWED_POSTS,\n        variables: { userId: auth.user.id, limit: HOME_PAGE_POSTS_LIMIT },\n      },\n    ],\n  });\n\n  const deletePost = async () => {\n    try {\n      await remove({\n        variables: { input: { id: postId, imagePublicId } },\n      });\n    } catch (err) {\n      console.log(err);\n    }\n    setAnchorEl(null);\n  };\n\n  return (\n    <>\n      <Popper open={open} anchorEl={anchorEl} placement=\"bottom-end\">\n        <PostCardOptions\n          closeMenu={() => setAnchorEl(null)}\n          postId={postId}\n          postAuthor={postAuthor}\n          imagePublicId={imagePublicId}\n          deletePost={deletePost}\n        />\n      </Popper>\n      {/*  */}\n      <Card className={classes.card}>\n        <CardHeader\n          className={classes.header}\n          avatar={<Avatar alt=\"user photo\" src={avatar} />}\n          title={fullName}\n          action={\n            <IconButton onClick={handleClick}>\n              <MoreVert />\n            </IconButton>\n          }\n          subheader={\"5 hours ago\"}\n        />\n        <CardContent>{title}</CardContent>\n        {image && (\n          <CardMedia\n            className={classes.media}\n            image={image}\n            onClick={openModal}\n          />\n        )}\n        <div className={classes.footer}>\n          <div className={classes.cardData}>\n            <h5>\n              {\" \"}\n              {likeNumber} {likeNumber > 1 ? \"likes\" : \"like\"}{\" \"}\n            </h5>\n            <h5>\n              {\" \"}\n              {commentNumber} {commentNumber > 1 ? \"comments\" : \"comment\"}{\" \"}\n            </h5>\n          </div>\n          <Divider />\n          <div className={classes.icons}>\n            <Like likes={likes} postId={postId} author={postAuthor} />\n            <IconButton onClick={() => setIsCommentOpen(!isCommentOpen)}>\n              <Comment />\n            </IconButton>\n          </div>\n          {isCommentOpen && (\n            <PostPopUpComments\n              comments={comments}\n              closeComments={() => setIsCommentOpen(false)}\n            />\n          )}\n          {isCommentOpen && (\n            <CreateComment postId={postId} focus={isCommentOpen} />\n          )}\n        </div>\n      </Card>\n    </>\n  );\n};\n\nexport default PostCard;\n\nPostCard.propTypes = {\n  title: PropTypes.string,\n  fullName: PropTypes.string.isRequired,\n  image: PropTypes.string, //post image\n  avatar: PropTypes.string, //author avatar\n  openModal: PropTypes.func.isRequired, //called when image is clicked\n  imagePublicId: PropTypes.string, // used to delete the image associated to a post\n};\n","import { theme } from \"../utils/theme\";\nconst { Container, withStyles } = require(\"@material-ui/core\");\n/**\n * used as the major container for auth pages\n */\nconst MainContainer = withStyles({\n  root: {\n    marginTop: \"80px\",\n    [theme.breakpoints.down(\"xs\")]: {\n      marginTop: 65,\n    },\n  },\n})(Container);\n\n// a layer covering the whole screen\nconst Overlay = withStyles({\n  postion: \"fixed\",\n  width: \"100%\",\n  top: 0,\n  bottom: 0,\n  left: 0,\n  right: 0,\n  zIndex: 100,\n  backgroundColor: \"rgba(0,0,0,0.8)\",\n});\n\nexport { MainContainer, Overlay };\n","import React from \"react\";\n\nconst Confirm = () => {\n  return <h5> confirm </h5>;\n};\n\nexport default Confirm;\n","import React from \"react\";\nimport { Overlay } from \"./Layout\";\nimport Confirm from \"./Confirm\";\nimport { makeStyles } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\n\nconst overlayStyles = makeStyles({\n  overlay: {\n    position: \"fixed\",\n    width: \"100%\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    zIndex: 100,\n    backgroundColor: \"rgba(0,0,0,0.8)\",\n  },\n});\n\nconst Modal = ({ open, children, onClose, type, ...props }) => {\n  const classes = overlayStyles();\n  if (!open) return null;\n\n  return (\n    <>\n      <div className={classes.overlay}>\n        {type === \"confirm\" ? <Confirm {...props} /> : children}\n      </div>\n    </>\n  );\n};\n\nexport default Modal;\n\nModal.propTypes = {\n  open: PropTypes.bool,\n  type: PropTypes.oneOf([\"\", \"confirm\"]),\n  children: PropTypes.node,\n  onClose: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\nimport { theme } from \"../../utils/theme\";\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  ClickAwayListener,\n  Avatar,\n  IconButton,\n  Paper,\n} from \"@material-ui/core\";\nimport { Close } from \"@material-ui/icons\";\nimport PostPopUpComments from \"./PostPopUpComments\";\n\nconst PostStyles = makeStyles({\n  paper: {\n    maxHeight: \"80%\",\n    overflow: \"auto\",\n    [theme.breakpoints.up(\"lg\")]: {\n      top: \"55%\",\n    },\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    position: \"absolute\",\n    maxWidth: \"50%\",\n    zIndex: 900,\n    [theme.breakpoints.down(\"sm\")]: {\n      maxWidth: \"100%\",\n      width: \"100%\",\n    },\n  },\n  card: {\n    height: \"100%\",\n  },\n  mediaContainer: {\n    height: 400,\n    [theme.breakpoints.up(\"xl\")]: {\n      height: 600,\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      height: 300,\n    },\n    width: \"95%\",\n    backgroundColor: \"blue\",\n    margin: \"0 auto\",\n  },\n  media: {\n    width: \"100%\",\n    height: \"100%\",\n    objectFit: \"cover\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"100%\",\n      width: \"100%\",\n    },\n  },\n});\n\nconst PostPopUp = ({\n  closeModal,\n  postImage,\n  comments,\n  author,\n  postTitle,\n  createdAt,\n}) => {\n  const classes = PostStyles();\n  return (\n    <ClickAwayListener onClickAway={closeModal}>\n      <Paper className={classes.paper}>\n        <Card className={classes.card}>\n          <CardHeader\n            avatar={<Avatar>A</Avatar>}\n            action={\n              <IconButton onClick={closeModal}>\n                <Close />\n              </IconButton>\n            }\n            title={author}\n            subheader={createdAt}\n          />\n          <CardContent> {postTitle} </CardContent>\n          <div className={classes.mediaContainer}>\n            <img src={postImage} alt=\"post image\" className={classes.media} />\n          </div>\n          <PostPopUpComments comments={comments} closeComments={closeModal} />\n        </Card>\n      </Paper>\n    </ClickAwayListener>\n  );\n};\n\nexport default PostPopUp;\n\nPostPopUp.propTypes = {\n  closeModal: PropTypes.func.isRequired,\n  comments: PropTypes.array.isRequired,\n  author: PropTypes.string.isRequired,\n  postTitle: PropTypes.string,\n  createdAt: PropTypes.string.isRequired,\n};\n","import React from \"react\";\nimport {\n  Divider,\n  Box,\n  List,\n  ListItem,\n  makeStyles,\n  Typography,\n} from \"@material-ui/core\";\nimport { SUGGEST_PEOPLE } from \"../graphql/user\";\nimport { useApolloClient } from \"@apollo/client\";\nimport { useStore } from \"../store\";\nimport defaultAvatar from \"../ressources/defaultAvatar.jpg\";\n\nconst peopleStyles = makeStyles((theme) => ({\n  item: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"flex-start\",\n    padding: 5,\n    border: \"0.1px #afafaf\",\n    cursor: \"pointer\",\n\n    \"&:hover\": {\n      backgroundColor: \"#efefef\",\n    },\n  },\n  name: {\n    fontSize: \"16px\",\n    fontFamily: \"roboto\",\n    fontWeight: 500,\n  },\n}));\n\nconst PeopleSuggestions = () => {\n  const client = useApolloClient();\n  const [{ auth }] = useStore();\n  const [people, setPeople] = React.useState([]);\n\n  const classes = peopleStyles();\n\n  React.useEffect(() => {\n    const getSuggestedPeople = async () => {\n      try {\n        const { data } = await client.query({\n          query: SUGGEST_PEOPLE,\n          variables: {\n            userId: auth.user.id,\n          },\n        });\n        setPeople(data.suggestPeople.users);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    getSuggestedPeople();\n  }, [auth]);\n\n  if (!people.length > 0) {\n    return null;\n  }\n\n  return (\n    <Box border={1} style={{ width: \"80%\", borderColor: \"#afafaf\" }}>\n      <h4 style={{ paddingLeft: 10 }}> USER SUGGESTIONS </h4>\n      <Divider />\n      <List style={{ padding: 0 }}>\n        {people.map((p) => (\n          <ListItem disableGutters className={classes.item}>\n            <img\n              src={p.image || defaultAvatar}\n              style={{\n                width: 80,\n                height: 80,\n                marginRight: 10,\n                objectFit: \"cover\",\n              }}\n            />\n            <Box display=\"flex\" flexDirection=\"column\">\n              <Typography className={classes.name}> {p.fullName} </Typography>\n              <Typography variant=\"body2\"> @{p.username} </Typography>\n            </Box>\n          </ListItem>\n        ))}\n      </List>\n    </Box>\n  );\n};\n\nexport default PeopleSuggestions;\n","import { Box, Grid, makeStyles } from \"@material-ui/core\";\nimport React, { Fragment } from \"react\";\nimport CreatePost from \"../../components/CreatePost\";\nimport PostCard from \"../../components/Postcard\";\nimport { HOME_PAGE_POSTS_LIMIT } from \"../../constants/DataLimit\";\nimport { useQuery } from \"@apollo/client\";\nimport { useStore } from \"../../store\";\nimport Modal from \"../../components/Modal\";\nimport PostPopUp from \"../../components/PostPopUp\";\nimport * as Routes from \"../../routes\";\nimport { generatePath } from \"react-router-dom\";\n\nimport { GET_FOLLOWED_POSTS } from \"../../graphql/post\";\nimport { theme } from \"../../utils/theme\";\nimport PeopleSuggestions from \"../../components/peopleSuggestions\";\n\nconst homeStyles = makeStyles({\n  home: {\n    position: \"relative\",\n    [theme.breakpoints.down(\"sm\")]: {\n      marginLeft: 0,\n    },\n  },\n  headerTitle: {\n    fontSize: \"16px\",\n    fontFamily: \"roboto\",\n    fontWeight: 500,\n  },\n});\n\nconst Home = () => {\n  const [{ auth }] = useStore();\n  const [postId, setPostId] = React.useState(null);\n\n  // pushState args (state, title, url)\n  const openModal = (postId) => {\n    setPostId(postId);\n    window.history.pushState(\"\", \"\", generatePath(Routes.POST, { id: postId }));\n  };\n\n  const closeModal = () => {\n    setPostId(null);\n  };\n\n  const classes = homeStyles();\n\n  const variables = {\n    userId: auth.user.id,\n    limit: HOME_PAGE_POSTS_LIMIT,\n  };\n\n  const { data, loading, networkStatus, error } = useQuery(GET_FOLLOWED_POSTS, {\n    variables,\n    notifyOnNetworkStatusChange: true,\n  });\n\n  const renderContent = () => {\n    if (loading && networkStatus === 1) {\n      return <h4> loading ... </h4>;\n    }\n\n    if (loading && networkStatus === 3) {\n      return <h4> Loading more... </h4>;\n    }\n\n    console.log(data);\n    if (error) {\n      console.log(error);\n    }\n\n    if (!loading && networkStatus != 1) {\n      const posts = data.getFollowedPosts.posts;\n      console.log(\"FollowedPosts\", data.getFollowedPosts.posts);\n\n      posts.map((p) => {\n        console.log(\"AUTHOR: \", p.author);\n        console.log(\"COMMENTS\", p.comments);\n      });\n\n      if (!posts.length) {\n        return <h5> Follow Users, Browse </h5>;\n      }\n      // we compare the id in the state var with the current postid\n      // to decide whether to open the modal\n      return posts.map((post) => (\n        <Fragment key={post.id}>\n          {/* modal */}\n          <Modal open={postId === post.id} onClose={closeModal}>\n            <PostPopUp\n              closeModal={closeModal}\n              comments={post.comments}\n              postImage={post.image}\n              author={post.author.fullName}\n              postTitle={post.title}\n              createdAt={post.createdAt}\n            />\n          </Modal>\n\n          {/* regualar post card */}\n          <PostCard\n            title={post.title}\n            image={post.image}\n            fullName={post.author.fullName}\n            avatar={post.author.image}\n            openModal={() => openModal(post.id)} //save the post.id in a state var\n            likeNumber={post.likes.length}\n            commentNumber={post.comments.length}\n            likes={post.likes}\n            postId={post.id}\n            postAuthor={post.author}\n            imagePublicId={post.imagePublicId}\n            comments={post.comments}\n          />\n        </Fragment>\n      ));\n    }\n  };\n  //\n\n  return (\n    <>\n      <div className={classes.home}>\n        <Grid container spacing={3}>\n          <Grid item md=\"8\" xs=\"12\">\n            <Box>\n              <CreatePost />\n              {renderContent()}\n            </Box>\n          </Grid>\n          <Grid item md=\"4\" xs=\"12\">\n            <PeopleSuggestions />\n          </Grid>\n        </Grid>\n      </div>\n    </>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport { Box, makeStyles, Paper, Typography } from \"@material-ui/core\";\nimport Proptypes from \"prop-types\";\nimport Follow from \"../../components/Follow\";\nimport defaultAvatar from \"../../ressources/defaultAvatar.jpg\";\n\nconst peopleCardStyles = makeStyles({\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    backgroundColor: \"#fff\",\n    padding: 20,\n    marginRight: 10,\n    border: \"1px solid #c5c4c4\",\n    borderRadius: 0,\n  },\n  avatar: {\n    width: 128,\n    height: 128,\n    borderRadius: \"50%\",\n    objectFit: \"cover\",\n  },\n  cardInfo: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n});\n\nconst PeopleCard = ({ user }) => {\n  const classes = peopleCardStyles();\n\n  return (\n    <Paper className={classes.container} elevation={2}>\n      <Box>\n        <img src={user.image || defaultAvatar} className={classes.avatar} />\n      </Box>\n      <Box className={classes.cardInfo}>\n        <Typography> {user.fullName} </Typography>\n        <Typography style={{ marginBottom: 10 }} color=\"textSecondary\">\n          {\" \"}\n          @{user.username}{\" \"}\n        </Typography>\n        <Follow user={user} />\n      </Box>\n    </Paper>\n  );\n};\n\nPeopleCard.propTypes = {\n  user: Proptypes.object.isRequired,\n};\n\nexport default PeopleCard;\n","import React from \"react\";\nimport { GET_USERS } from \"../../graphql/user\";\nimport PeopleCard from \"./PeopleCard\";\nimport { useQuery } from \"@apollo/client\";\nimport { useStore } from \"../../store\";\nimport {\n  GridList,\n  GridListTile,\n  ListSubheader,\n  makeStyles,\n} from \"@material-ui/core\";\n\nconst peopleStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    justifyContent: \"space-around\",\n    width: \"100%\",\n  },\n  gridList: {\n    width: \"100%\",\n    height: \"100%\",\n  },\n  gridListTile: {\n    width: \"180px\",\n    padding: 20,\n  },\n}));\n\nconst People = () => {\n  const [{ auth }] = useStore();\n  const classes = peopleStyles();\n\n  const { data, loading, networkStatus } = useQuery(GET_USERS, {\n    variables: {\n      userId: auth.user.id,\n      skip: 0,\n      limit: 10, //TODO: create a limit constant\n    },\n    notifyOnNetworkStatusChange: true,\n  });\n\n  const content = () => {\n    if (loading && networkStatus === 1) {\n      return <h5> loading ... </h5>;\n    }\n\n    const { users } = data.getUsers;\n    if (!users.length > 0) {\n      return <h4> No users yet... </h4>;\n    }\n\n    return (\n      <div className={classes.root}>\n        <GridList cellHeight={300} className={classes.gridList}>\n          <GridListTile cols={2} style={{ height: \"auto\" }}>\n            <ListSubheader> PEOPLE </ListSubheader>\n          </GridListTile>\n\n          {users.map((user, index) => (\n            <GridListTile\n              key={index}\n              className={classes.gridListTile}\n              style={{ width: \"230px\", height: \"100%\" }}\n            >\n              <PeopleCard key={index} user={user} />\n            </GridListTile>\n          ))}\n        </GridList>\n      </div>\n    );\n  };\n\n  return <>{content()}</>;\n};\n\nexport default People;\n","import { Box, IconButton, makeStyles } from \"@material-ui/core\";\nimport { PhotoCamera } from \"@material-ui/icons\";\nimport React from \"react\";\nimport defaultCover from \"./background2.jpg\";\n\nconst CoverStyles = makeStyles((theme) => ({\n  background: {\n    height: 350,\n    width: \"100%\",\n    backgroundImage: `url(${defaultCover})`,\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center\",\n  },\n  uploadIcon: {\n    borderRadius: 1,\n    marginTop: 5,\n    marginLeft: 5,\n    backgroundColor: \"#2896e4\",\n    color: \"#fbfbfb\",\n  },\n}));\n\nconst CoverPhotoUpload = () => {\n  const classes = CoverStyles();\n  const inputEl = React.useRef(null);\n\n  const handleIconClick = () => {\n    inputEl.current.click();\n  };\n\n  return (\n    <Box className={classes.background}>\n      <input\n        style={{ display: \"none\" }}\n        ref={inputEl}\n        type=\"file\"\n        accept=\"image/x-png,image/jpeg\"\n        id=\"cover-image\"\n      />\n\n      <label>\n        <IconButton className={classes.uploadIcon} onClick={handleIconClick}>\n          <PhotoCamera />\n        </IconButton>\n      </label>\n    </Box>\n  );\n};\n\nexport default CoverPhotoUpload;\n","import React from \"react\";\nimport { Box, IconButton, makeStyles, Typography } from \"@material-ui/core\";\nimport { PhotoCamera } from \"@material-ui/icons\";\nimport { GET_AUTH_USER, UPLOAD_USER_PHOTO } from \"../../graphql/user\";\nimport { useApolloClient } from \"@apollo/client\";\nimport { useStore } from \"../../store\";\nimport defaultAvatar from \"../../ressources/defaultAvatar.jpg\";\n\nconst ProfileStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    paddingBottom: 10,\n  },\n  image: {\n    width: 200,\n    height: 200,\n    marginTop: -100,\n    borderRadius: \"50%\",\n    border: \"7px solid #ffffff\",\n    objectFit: \"cover\",\n  },\n  info: {\n    display: \"flex\",\n    width: 600,\n    justifyContent: \"space-between\",\n  },\n  imgContainer: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    position: \"relative\",\n  },\n  uploadIcon: {\n    backgroundColor: \"#2896e4\",\n    position: \"absolute\",\n    color: \"#fbfbfb\",\n    right: 0,\n    bottom: 0,\n  },\n}));\n\nconst ProfileInfo = () => {\n  const classes = ProfileStyles();\n  const inputRef = React.useRef(null);\n  const client = useApolloClient();\n  const [{ auth }] = useStore();\n\n  const handleIconClick = () => inputRef.current.click();\n\n  const handleFileChange = async (e) => {\n    const image = e.target.files[0];\n    if (!image) return;\n    try {\n      const { data } = await client.mutate({\n        mutation: UPLOAD_USER_PHOTO,\n        variables: {\n          input: {\n            userId: auth.user.id,\n            image: image,\n            isCover: false,\n            imagePublicId: \"userphoto\",\n          },\n        },\n        refetchQueries: [{ query: GET_AUTH_USER }],\n      });\n      console.log(data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <Box className={classes.root}>\n      <Box className={classes.imgContainer}>\n        <img src={auth.user.image || defaultAvatar} className={classes.image} />\n        <input\n          accept=\"image/x-png,image/jpeg\"\n          ref={inputRef}\n          type=\"file\"\n          style={{ display: \"none\" }}\n          onChange={handleFileChange}\n        />\n        <IconButton className={classes.uploadIcon} onClick={handleIconClick}>\n          <PhotoCamera />\n        </IconButton>\n      </Box>\n      <Box>\n        <h1 style={{ textAlign: \"center\" }}> {auth.user.fullName} </h1>\n        <Box className={classes.info}>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\">\n            {\" \"}\n            {auth.user.posts.length} Posts{\" \"}\n          </Typography>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\">\n            {\" \"}\n            {auth.user.following.length} Following{\" \"}\n          </Typography>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\">\n            {\" \"}\n            {auth.user.followers.length} Followers{\" \"}\n          </Typography>\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default ProfileInfo;\n","import { Box, makeStyles } from \"@material-ui/core\";\nimport React from \"react\";\nimport CreatePost from \"../../components/CreatePost\";\nimport CoverPhotoUpload from \"./CoverPhotoUpload\";\nimport ProfileInfo from \"./ProfileInfo\";\n\nconst ProfileStyles = makeStyles((theme) => ({\n  info: {\n    backgroundColor: \"#efefef\",\n    border: \"7px solid #ffffff\",\n  },\n  content: {\n    display: \"flex\",\n    width: \"100%\",\n    justifyContent: \"center\",\n  },\n  postContainer: {\n    marginTop: 20,\n    width: \"80%\",\n  },\n}));\n\nconst Profile = () => {\n  const classes = ProfileStyles();\n\n  return (\n    <Box>\n      <CoverPhotoUpload />\n      <ProfileInfo className={classes.info} />\n      <Box className={classes.content}>\n        <Box className={classes.postContainer}>\n          <CreatePost />\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default Profile;\n","import { gql } from \"@apollo/client\";\n\nexport const SEARCH_USERS = gql`\n    query($searchQuery: String!){\n        searchUsers(searchQuery: $searchQuery){\n            id\n            fullName\n            username\n            image\n        }\n    }\n`","import React from 'react';\n/**\n * \n * @param {string} value value to set\n * @param {number} delay after the amount of time\n */\n\nconst useDebounce = (value, delay) => {\n    const [debouncedValue, setDebouncedValue] = React.useState(\"\");\n    \n    React.useEffect(() =>{\n        const timeOut = setTimeout(() => {\n            setDebouncedValue(value)\n        }, delay);\n\n        return () => {\n            clearTimeout(timeOut);\n        }\n    }, [delay, value]);\n\n    return debouncedValue;\n}\n\nexport default useDebounce;","import { colors } from \"../../../utils/theme\";\n\nconst { makeStyles } = require(\"@material-ui/core\");\n\nconst headerStyles = makeStyles((theme) => ({\n  appBar: {\n    position: \"fixed\",\n    backgroundColor: colors.white,\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n  toolBar: {\n    zIndex: 700,\n    display: \"flex\",\n    backgroundColor: colors.white,\n    width: \"70%\",\n    margin: \"0 auto\",\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100%\",\n      padding: 0,\n    },\n  },\n  search: {\n    border: \"1.2px solid #a9a8a8\",\n    backgroundColor: \"#efefef\",\n    display: \"flex\",\n    borderRadius: 5,\n    // marginLeft: 20,\n    [theme.breakpoints.down(\"sm\")]: {\n      marginLeft: 5,\n    },\n  },\n  searchIcon: {\n    color: \"black\",\n    padding: 5,\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  inputRoot: {},\n  inputInput: {\n    padding: 5,\n    height: \"90%\",\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  // hide the menu icon from md all the way up\n  menuIcon: {\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n  appName: {\n    color: colors.lighRed,\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n  popper: {\n    zIndex: 1000,\n    [theme.breakpoints.up(\"lg\")]: {\n      marginTop: 15,\n    },\n    maxHeight: 350,\n    overflow: \"auto\",\n  },\n}));\n\nexport default headerStyles;\n","import React from \"react\";\nimport { Popper, Grow, Paper, ClickAwayListener } from \"@material-ui/core\";\nimport headerStyles from \"./headerStyles\";\n\nconst MenuWrapper = ({ isOpen, anchorEl, closeMenu, children, ...rest }) => {\n  const classes = headerStyles();\n\n  return (\n    <Popper\n      className={classes.popper}\n      anchorEl={anchorEl}\n      open={isOpen}\n      transition\n      disablePortal\n      {...rest}\n    >\n      {({ TransitionProps, placement }) => (\n        <ClickAwayListener onClickAway={closeMenu}>\n          <Grow\n            {...TransitionProps}\n            style={{\n              transformOrigin:\n                placement === \"top\" ? \"center bottom\" : \"center top\",\n            }}\n          >\n            <Paper square=\"true\" elevation={21} variant=\"outlined\">\n              {children}\n            </Paper>\n          </Grow>\n        </ClickAwayListener>\n      )}\n    </Popper>\n  );\n};\n\nexport default MenuWrapper;\n","import {\n  Avatar,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n} from \"@material-ui/core\";\nimport React from \"react\";\nimport MenuWrapper from \"../App/AppHeader/MenuWrapper\";\nimport defaultAvatar from \"../../ressources/defaultAvatar.jpg\";\nimport * as Routes from \"../../routes\";\nimport { generatePath, Link } from \"react-router-dom\";\n\nconst SearchResult = ({\n  searchAnchorEl,\n  isOpen,\n  users,\n  query,\n  loading,\n  closeMenu,\n  messageSearch,\n}) => {\n  return (\n    <MenuWrapper\n      isOpen={isOpen}\n      anchorEl={searchAnchorEl}\n      style={{ marginLeft: -50 }}\n      closeMenu={closeMenu}\n    >\n      {loading && <ListItem> searching... </ListItem>}\n\n      {!users.length > 0 && <ListItem> No result found for {query}</ListItem>}\n      <List style={{ width: 250, paddingLeft: 10 }}>\n        {users.map((u) => (\n          <React.Fragment>\n            {/* TODO: replace id */}\n            <ListItem\n              component={Link}\n              to={\n                messageSearch\n                  ? generatePath(Routes.MESSAGE, { userId: \"replaceId\" })\n                  : generatePath(Routes.PROFILE, {\n                      username: u.username,\n                    })\n              }\n              onClick={closeMenu}\n            >\n              <ListItemAvatar>\n                <Avatar alt=\"user avatar\" src={u.image || defaultAvatar} />\n              </ListItemAvatar>\n              <ListItemText primary={u.fullName} secondary={u.username} />\n            </ListItem>\n          </React.Fragment>\n        ))}\n      </List>\n    </MenuWrapper>\n  );\n};\n\nexport default SearchResult;\n","import { useApolloClient } from \"@apollo/client\";\nimport { InputBase } from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport React from \"react\";\nimport { SEARCH_USERS } from \"../../graphql/search\";\nimport useDebounce from \"../../hooks/useDebounce\";\nimport headerStyles from \"../App/AppHeader/headerStyles\";\nimport SearchResult from \"./searchResult\";\nimport PropTypes from \"prop-types\";\n\nconst Search = ({ placeholder, messageSearch, fullWidth, ...rest }) => {\n  const client = useApolloClient();\n  const classes = headerStyles();\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [searchQuery, setSearchQuery] = React.useState(\"\");\n  const [foundUsers, setFoundUsers] = React.useState([]);\n  const [isSearchOpen, setIsSearchOpen] = React.useState(false);\n  const [loading, setLoading] = React.useState(false);\n\n  const inputBaseClasses = {\n    root: classes.inputRoot,\n    input: classes.inputInput,\n  };\n\n  const debounceSearchQuery = useDebounce(searchQuery, 500);\n  const closeMenu = () => setSearchQuery(\"\");\n  // handle input change\n  const handleChange = (event) => {\n    // trim white space from the beginning\n    const value = event.target.value.replace(/^\\s+/g, \"\");\n    setAnchorEl(event.currentTarget);\n    setSearchQuery(value);\n    if (value) {\n      setLoading(true);\n    }\n  };\n\n  // the effect will run based on the existence of a\n  // debounced search query\n  React.useEffect(() => {\n    const search = async () => {\n      const { data } = await client.query({\n        query: SEARCH_USERS,\n        variables: { searchQuery: debounceSearchQuery },\n      });\n\n      setLoading(false);\n      setFoundUsers(data.searchUsers);\n      setIsSearchOpen(debounceSearchQuery != \"\");\n    };\n\n    search();\n  }, [client, debounceSearchQuery]);\n\n  return (\n    <div className={classes.search} {...rest}>\n      <div className={classes.searchIcon}>\n        <SearchIcon />\n      </div>\n      <InputBase\n        fullWidth={fullWidth ? true : false}\n        classes={inputBaseClasses}\n        placeholder={placeholder}\n        onChange={(event) => handleChange(event)}\n      />\n\n      <SearchResult\n        searchAnchorEl={anchorEl}\n        isOpen={isSearchOpen}\n        users={foundUsers}\n        query={debounceSearchQuery}\n        loading={loading}\n        closeMenu={closeMenu}\n        messageSearch={messageSearch}\n      />\n    </div>\n  );\n};\n\nSearch.propTypes = {\n  placeholder: PropTypes.string,\n  messageSearch: PropTypes.bool,\n  fullWidth: PropTypes.bool,\n};\n\nexport default Search;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Avatar, Typography, Box, makeStyles } from \"@material-ui/core\";\nimport Search from \"../../components/Search/Search\";\n\nconst useStyles = makeStyles((theme) => ({\n  user: {\n    display: \"flex\",\n    width: \"100%\",\n    justifyContent: \"flex-start\",\n    textDecoration: \"none\",\n    alignItems: \"center\",\n    padding: 5,\n    color: \"#ffffff\",\n    backgroundColor: \"#505050\",\n  },\n  online: {\n    backgroundColor: \"#1bde03\",\n    width: 8,\n    height: 8,\n    borderRadius: \"50%\",\n    marginLeft: 15,\n  },\n  avatar: {\n    marginRight: 15,\n    border: \"3px solid #a9a4a4\",\n    borderRadius: \"50%\",\n  },\n}));\n\nconst ChatHeading = ({ chatUser }) => {\n  const classes = useStyles();\n\n  if (chatUser) {\n    return (\n      <Box className={classes.user}>\n        <Avatar className={classes.avatar} src={chatUser.image} />\n        <Typography> {chatUser.fullName} </Typography>\n        {chatUser.isOnline && <div className={classes.online} />}\n      </Box>\n    );\n  }\n\n  if (!chatUser) {\n    return (\n      <Box>\n        <Search\n          placeholder=\"Search user to message...\"\n          fullWidth\n          style={{ borderRadius: 0, width: \"100%\" }}\n        />\n      </Box>\n    );\n  }\n};\n\nChatHeading.propTypes = {\n  chatUser: PropTypes.object,\n};\n\nexport default ChatHeading;\n","import React from \"react\";\nimport { Box, makeStyles, Button, InputBase, Avatar } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    backgroundColor: \"#dedede\",\n    width: \"100%\",\n    height: \"calc(100% - 50px)\",\n    position: \"relative\",\n  },\n  submit: {\n    position: \"absolute\",\n    bottom: 0,\n    width: \"100%\",\n    display: \"flex\",\n    padding: 5,\n    backgroundColor: \"#f7f7f7\",\n    borderTop: \"1px solid #bfbebe\",\n    borderBottom: \"1px solid #bfbebe\",\n    borderRight: \"1px solid #bfbebe\",\n  },\n  conversation: {\n    flexGrow: 1,\n  },\n  messageWrapper: {\n    padding: 10,\n    margin: \"5px 5px 0 5px\",\n    display: \"flex\",\n  },\n  message: {\n    maxWidth: 300,\n    backgroundColor: \"#ffffff\",\n    padding: 10,\n    borderRadius: 5,\n  },\n}));\n\nconst ChatConversations = ({ chatUser, messages, authUser }) => {\n  const classes = useStyles();\n\n  return (\n    <Box className={classes.container}>\n      <Box className={classes.conversation}>\n        {messages.map((message) => {\n          const isAuthUserSender = authUser.id === message.sender.id;\n\n          return (\n            <Box\n              style={isAuthUserSender ? { justifyContent: \"flex-end\" } : null}\n              className={`${classes.messageWrapper}`}\n            >\n              {!isAuthUserSender && (\n                <Avatar style={{ marginRight: 5 }} src={chatUser.image} />\n              )}\n              <Box\n                style={isAuthUserSender ? { backgroundColor: \"#bfbfbf\" } : null}\n                className={classes.message}\n              >\n                {\" \"}\n                {message.message}{\" \"}\n              </Box>\n            </Box>\n          );\n        })}\n      </Box>\n\n      {chatUser && (\n        <Box className={classes.submit}>\n          <InputBase\n            type=\"text\"\n            style={{ width: \"calc(100% - 50px)\" }}\n            placeholder=\"Start typing your message...\"\n          />\n          <Button\n            type=\"submit\"\n            variant=\"contained\"\n            size=\"small\"\n            color=\"primary\"\n          >\n            Send\n          </Button>\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nChatConversations.propTypes = {\n  chatUser: PropTypes.object,\n  messages: PropTypes.array.isRequired,\n  authUser: PropTypes.object.isRequired,\n};\n\nexport default ChatConversations;\n","import React from \"react\";\nimport { Box, makeStyles } from \"@material-ui/core\";\nimport ChatHeading from \"./ChatHeading\";\nimport ChatConversations from \"./ChatConversations\";\nimport { useStore } from \"../../store\";\nimport { withRouter } from \"react-router-dom\";\nimport { GET_USER } from \"../../graphql/user\";\nimport { useQuery } from \"@apollo/client\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    backgroundColor: \"#dedede\",\n    width: \"100%\",\n    // height:\"90vh\",\n  },\n}));\n\nconst avatar = \"https://material-ui.com/static/images/avatar/3.jpg\";\n\nconst user = {\n  id: 1,\n  image: avatar,\n  fullName: \"Roger Alexander\",\n  lastMessageSender: true,\n  lastMessage: \"Hey fine\",\n  isOnline: true,\n};\n\nconst dummyMessages = [\n  {\n    id: 1,\n    sender: {\n      id: \"5fc26ff2329e5d026d4f301f\",\n      image: avatar,\n    },\n    message: \"Hey boy\",\n    cratedAt: \"23 - 09 - 2020\",\n  },\n  {\n    id: 1,\n    sender: {\n      id: \"5fc2703d329e5d026d4f3020\",\n      image: avatar,\n    },\n    message: \"Hey There\",\n    cratedAt: \"23 - 09 - 2020\",\n  },\n];\n\nconst MessageChat = ({ match }) => {\n  const { id } = match.params;\n\n  // const {data, loading} = useQuery(GET_USER,{\n  //   variables: { userId: id },\n  //   skip: !id\n  // });\n\n\n  // if(!loading){\n  //   console.log('USER DATA', data.getUser)\n  // }\n\n  const classes = useStyles();\n  const [{ auth }] = useStore();\n\n  return (\n    <Box className={classes.container}>\n      <ChatHeading chatUser={user} />\n      <ChatConversations\n        messages={dummyMessages}\n        authUser={auth.user}\n        chatUser={user}\n      />\n    </Box>\n  );\n};\nexport default withRouter(MessageChat);\n","import { gql } from \"@apollo/client\";\n\nexport const GET_CONVERSATIONS = gql`\n    query($authUserId: ID!){\n        getConversations(authUserId: $authUserId){\n            id\n            image\n            username\n            fullName\n            isOnline\n            seen\n            lastMessage\n            lastMessageSender\n        }\n    }\n`\n\nexport const GET_NEW_CONVERSATIONS = gql`\n    subscription{\n        newConversation{\n            id\n            username\n            fullName\n            image\n            isOnline\n            lastMessage\n            lastMessageCreatedAt\n            lastMessageSender\n            seen\n        }\n    }\n`","import React from \"react\";\nimport {\n  Avatar,\n  Box,\n  IconButton,\n  List,\n  makeStyles,\n  Typography,\n} from \"@material-ui/core\";\nimport CreateIcon from \"@material-ui/icons/Create\";\nimport Search from \"../../components/Search/Search\";\nimport { generatePath, NavLink } from \"react-router-dom\";\nimport * as Routes from \"../../routes\";\nimport {\n  GET_CONVERSATIONS,\n  GET_NEW_CONVERSATIONS,\n} from \"../../graphql/message\";\nimport { useQuery } from \"@apollo/client\";\nimport { useStore } from \"../../store\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    // backgroundColor: \"#cdcde0\",\n    width: 330,\n    height: \"90vh\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    borderColor: \"#d0d0d0\",\n    backgroundColor: \"#ffffff\",\n  },\n  header: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    padding: 5,\n    alignItems: \"center\",\n    width: \"90%\",\n  },\n  selected: {\n    backgroundColor: \"#ceced0\",\n  },\n  user: {\n    display: \"flex\",\n    width: \"100%\",\n    justifyContent: \"flex-start\",\n    textDecoration: \"none\",\n    alignItems: \"center\",\n    padding: 5,\n    color: \"#424242\",\n  },\n  notSeen: {\n    backgroundColor: \"#14e8de\",\n    width: 8,\n    height: 8,\n    borderRadius: \"50%\",\n    marginLeft: 15,\n  },\n}));\n\nconst MessageUsers = () => {\n  const classes = useStyles();\n  const [{ auth }] = useStore();\n\n  const { data, loading, subscribeToMore } = useQuery(GET_CONVERSATIONS, {\n    variables: {\n      authUserId: auth.user.id,\n    },\n  });\n\n  React.useEffect(() => {\n    const unsubscribe = subscribeToMore({\n      document: GET_NEW_CONVERSATIONS,\n      updateQuery: (prev, { subscriptionData }) => {\n        if (!subscriptionData.data) return prev;\n        const { newConversation } = subscriptionData.data;\n        const oldConversations = prev.getConversations;\n\n        const existedUserInChat = oldConversations.some(\n          (u) => u.id === newConversation.id\n        );\n        if (existedUserInChat) return prev;\n        // newConversation.id is the senderUser id\n\n        let mergedConversations = [...oldConversations, newConversation];\n        return {\n          getConversations: mergedConversations,\n        };\n      },\n    });\n\n    return () => {\n      unsubscribe();\n    };\n  }, [subscribeToMore]);\n\n  return (\n    <Box border={1} className={classes.container}>\n      <Box className={classes.header}>\n        <Typography> CHATS </Typography>\n        <IconButton  >\n          <CreateIcon />\n        </IconButton>\n      </Box>\n      <Search\n        style={{ width: \"95%\", borderRadius: 0 }}\n        messageSearch\n        placeholder=\"Chat users...\"\n      />\n      <Box width=\"100%\">\n        <List>\n          {!loading &&\n            data.getConversations.map((user) => {\n              const notSeen =\n                user.seen === false && user.lastMessageSender === false;\n              console.log(\"NOT SEEN\", notSeen);\n\n              console.log(\"CONVERSATIONS\", data.getConversations);\n              return (\n                <NavLink\n                  className={classes.user}\n                  activeClassName={classes.selected}\n                  to={generatePath(Routes.MESSAGE, {\n                    id: user.id,\n                  })}\n                >\n                  <Avatar style={{ marginRight: 10 }} src={user.image} />\n                  <Box>\n                    <Typography> {user.fullName}</Typography>\n                    <Typography> {user.lastMessage} </Typography>\n                    {notSeen && <div className={classes.notSeen}></div>}\n                  </Box>\n                </NavLink>\n              );\n            })}\n        </List>\n      </Box>\n    </Box>\n  );\n};\n\nexport default MessageUsers;\n","import React from \"react\";\nimport { Box, makeStyles } from \"@material-ui/core\";\nimport MessageChat from \"./MessageChat\";\nimport MessageUsers from \"./MessageUsers\";\n\nconst MessageStyles = makeStyles((theme) => ({\n  container: {\n    display: \"flex\",\n    width: \"100%\",\n  },\n}));\n\nconst Message = () => {\n  const classes = MessageStyles();\n\n  return (\n    <React.Fragment>\n      <Box className={classes.container}>\n        <MessageUsers />\n        <MessageChat />\n      </Box>\n    </React.Fragment>\n  );\n};\n\nexport default Message;\n","import React from \"react\";\nimport { MenuList, MenuItem } from \"@material-ui/core\";\nimport MenuWrapper from \"./MenuWrapper\";\n\nconst HeaderMessageDropDown = ({\n  isOpen,\n  messageAnchorEl,\n  closeMenu,\n  messageData,\n}) => {\n  return (\n    <MenuWrapper\n      isOpen={isOpen}\n      anchorEl={messageAnchorEl}\n      closeMenu={closeMenu}\n    >\n      <MenuList>\n        <MenuItem> First message </MenuItem>\n        <MenuItem> Second message </MenuItem>\n      </MenuList>\n    </MenuWrapper>\n  );\n};\n\nexport default HeaderMessageDropDown;\n","import React from \"react\";\nimport {\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  Avatar,\n} from \"@material-ui/core\";\n\nconst Notification = ({ notification }) => {\n  if (!notification.like && !notification.comment && !notification.follow) {\n    return;\n  }\n\n  let senderName = notification.sender ? notification.sender.fullName : null;\n\n  const showPostImage = () => {\n    return (\n      <div style={{ width: 45, height: 45, marginLeft: 5 }}>\n        <img\n          alt=\"post-pic\"\n          src={notification.like.post.image}\n          style={{ width: \"100%\", height: \"100%\", objectFit: \"cover\" }}\n        />\n      </div>\n    );\n  };\n\n  return (\n    <React.Fragment>\n      <ListItem button>\n        <ListItemAvatar>\n          <Avatar alt=\"user avatar\" src={notification.sender.image} />\n        </ListItemAvatar>\n        {notification.like && (\n          <>\n            <ListItemText secondary={`${senderName} likes your post`} />\n            {showPostImage}\n          </>\n        )}\n\n        {notification.comment && (\n          <>\n            <ListItemText secondary={`${senderName} commented on your post`} />\n            {showPostImage}\n          </>\n        )}\n      </ListItem>\n    </React.Fragment>\n  );\n};\n\nexport default Notification;\n","import React from \"react\";\nimport { List, MenuItem, Typography } from \"@material-ui/core\";\n\nimport MenuWrapper from \"./MenuWrapper\";\nimport Notification from \"../Notification\";\n\nconst HeaderNotificationDropDown = ({\n  dropDownData,\n  notificationAnchorEl,\n  isOpen,\n  closeMenu,\n}) => {\n  console.log(\"notification HD\", dropDownData);\n  let notifications = dropDownData;\n\n  if (!notifications.length > 0) {\n    return (\n      <MenuWrapper\n        isOpen={isOpen}\n        anchorEl={notificationAnchorEl}\n        closeMenu={closeMenu}\n      >\n        <Typography color=\"textSecondary\" style={{ padding: 10 }}>\n          {\" \"}\n          No notification{\" \"}\n        </Typography>\n      </MenuWrapper>\n    );\n  }\n\n  return (\n    <MenuWrapper\n      isOpen={isOpen}\n      anchorEl={notificationAnchorEl}\n      closeMenu={closeMenu}\n    >\n      <List>\n        {notifications.map((n) => (\n          <Notification key={n.id} notification={n} />\n        ))}\n      </List>\n    </MenuWrapper>\n  );\n};\n\nexport default HeaderNotificationDropDown;\n","import React from \"react\";\nimport { useApolloClient } from \"@apollo/client\";\nimport { withRouter } from \"react-router-dom\";\nimport { MenuItem } from \"@material-ui/core\";\nimport { useStore } from \"../store/store\";\nimport { CLEAR_AUTH_USER } from \"../store/auth\";\nimport { SIGNIN } from \"../routes\";\n\nconst Logout = ({ history }) => {\n  const client = useApolloClient();\n  const [, dispatch] = useStore();\n\n  const handleLogout = () => {\n    // dispatch({type: CLEAR_AUTH_USER});\n    localStorage.removeItem(\"token\");\n    client.resetStore();\n    history.push(SIGNIN);\n  };\n\n  return <MenuItem onClick={handleLogout}>Logout</MenuItem>;\n};\n\nexport default withRouter(Logout);\n","import React from \"react\";\nimport { MenuList, MenuItem } from \"@material-ui/core\";\nimport MenuWrapper from \"./MenuWrapper\";\nimport { generatePath, Link } from \"react-router-dom\";\nimport { PROFILE } from \"../../../routes\";\nimport { useStore } from \"../../../store\";\nimport Logout from \"../../Logout\";\n\nconst HeaderUserDropDown = ({ isOpen, userAnchorEl, closeMenu }) => {\n  const [{ auth }] = useStore();\n\n  return (\n    <MenuWrapper isOpen={isOpen} anchorEl={userAnchorEl} closeMenu={closeMenu}>\n      <MenuList>\n        <Link\n          to={generatePath(PROFILE, {\n            username: auth.user.username,\n          })}\n          style={{ textDecoration: \"none\" }}\n          onClick={closeMenu}\n        >\n          <MenuItem> Profile </MenuItem>\n        </Link>\n        <Logout />\n      </MenuList>\n    </MenuWrapper>\n  );\n};\n\nexport default HeaderUserDropDown;\n","import React from \"react\";\nimport HeaderMessageDropDown from \"./HeaderMessageDropDown\";\nimport HeaderNotificationDropDown from \"./HeaderNotificationDropDown\";\nimport HeaderUserDropDown from \"./HeaderUserDropDown\";\n\n/**\n * identify what dropdown is open and render it\n *\n * @param {string} dropDownOpen\n * @param {array}  dropDownData\n *\n */\n\nconst HeaderDropDowns = ({\n  dropDownOpen,\n  dropDownData,\n  isOpen,\n  notificationAnchorEl,\n  messageAnchorEl,\n  userAnchorEl,\n  closeMenu,\n}) => {\n  const DropDowns = {\n    NOTIFICATION: (\n      <HeaderNotificationDropDown\n        dropDownData={dropDownData}\n        notificationAnchorEl={notificationAnchorEl}\n        isOpen={isOpen}\n        closeMenu={closeMenu}\n      />\n    ),\n    MESSAGE: (\n      <HeaderMessageDropDown\n        isOpen={isOpen}\n        messageAnchorEl={messageAnchorEl}\n        closeMenu={closeMenu}\n      />\n    ),\n    USER: (\n      <HeaderUserDropDown\n        isOpen={isOpen}\n        userAnchorEl={userAnchorEl}\n        closeMenu={closeMenu}\n      />\n    ),\n  };\n  return dropDownOpen ? DropDowns[dropDownOpen] : null;\n};\n\nexport default HeaderDropDowns;\n","import {\n  AppBar,\n  Drawer,\n  IconButton,\n  Toolbar,\n  Typography,\n  Badge,\n} from \"@material-ui/core\";\n\nimport {\n  Notifications as NotificationIcon,\n  AccountCircle,\n  Mail as MailIcon,\n} from \"@material-ui/icons\";\n\nimport React, { useState } from \"react\";\nimport AppInfo from \"../../../constants/AppInfo.json\";\nimport headerStyles from \"./headerStyles\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\n// components\nimport Navigation from \"../Navigation\";\nimport { useStore } from \"../../../store\";\nimport HeaderDropDowns from \"./HeaderDropDowns\";\nimport Search from \"../../Search\";\n\nconst AppHeader = () => {\n  const classes = headerStyles();\n  const [{ auth }] = useStore();\n\n  const [notifications, setNotifications] = React.useState([]);\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [dropDownData, setDropDownData] = useState([]);\n  const [dropDownOpen, setDropDownOpen] = useState(null);\n\n  React.useEffect(() => {\n    if (auth.user != null) {\n      setNotifications(auth.user.notifications);\n    }\n  }, [auth]);\n\n  const openDropDown = (event) =>\n    setAnchorEl(\n      anchorEl && anchorEl.contains(event.target) ? null : event.currentTarget\n    );\n\n  const closeDropDown = () => {\n    setAnchorEl(null);\n  };\n\n  const handleIconClick = (event, dropdownType) => {\n    if (dropdownType === \"MESSAGE\") {\n      openDropDown(event);\n    }\n    if (dropdownType === \"NOTIFICATION\") {\n      setDropDownData(notifications);\n      setDropDownOpen(dropdownType);\n      openDropDown(event);\n    }\n    if (dropdownType === \"USER\") {\n      setDropDownOpen(dropdownType);\n      openDropDown(event);\n    }\n\n    setDropDownOpen(dropdownType);\n  };\n\n  return (\n    <>\n      <AppBar position=\"sticky\" className={classes.appBar}>\n        <Toolbar className={classes.toolBar}>\n          <IconButton\n            color=\"secondary\"\n            onClick={() => setIsDrawerOpen(!isDrawerOpen)}\n            className={classes.menuIcon}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" className={classes.appName}>\n            {AppInfo.name}\n          </Typography>\n          <Search\n            fullWidth={false}\n            placeholder=\"Search users...\"\n            style={{ marginLeft: 20 }}\n          />\n          <div className={classes.grow} />\n\n          {/* Right Side */}\n          <IconButton\n            color=\"inherit\"\n            onClick={(event) => handleIconClick(event, \"NOTIFICATION\")}\n          >\n            <Badge badgeContent={notifications.length} color=\"secondary\">\n              <NotificationIcon color=\"primary\" fontSize=\"small\" />\n            </Badge>\n          </IconButton>\n\n          <IconButton\n            color=\"inherit\"\n            onClick={(event) => handleIconClick(event, \"MESSAGE\")}\n          >\n            <Badge badgeContent={4} color=\"secondary\">\n              <MailIcon color=\"primary\" fontSize=\"small\" />\n            </Badge>\n          </IconButton>\n\n          <IconButton\n            color=\"inherit\"\n            onClick={(event) => handleIconClick(event, \"USER\")}\n          >\n            <AccountCircle color=\"primary\" />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n\n      <HeaderDropDowns\n        dropDownOpen={dropDownOpen}\n        dropDownData={dropDownData}\n        notificationAnchorEl={anchorEl}\n        messageAnchorEl={anchorEl}\n        userAnchorEl={anchorEl}\n        isOpen={Boolean(anchorEl)}\n        closeMenu={closeDropDown}\n      />\n\n      {/* mobile drawer */}\n      <Drawer open={isDrawerOpen} onClose={() => setIsDrawerOpen(false)}>\n        <Navigation />\n      </Drawer>\n    </>\n  );\n};\n\nexport default AppHeader;\n","import { withStyles, Box } from \"@material-ui/core\";\nexport const PageContainer = withStyles({ root: { marginLeft: 20 } })(Box);\n","import React, { useEffect } from \"react\";\nimport { Redirect, Route, Switch, withRouter } from \"react-router-dom\";\nimport * as Routes from \"../../routes\";\nimport Navigation from \"./Navigation\";\nimport { colors as appColors } from \"../../utils/theme\";\n\n// actions\nimport { SET_AUTH_USER } from \"../../store/auth\";\n\n// hooks\nimport { useStore } from \"../../store\";\nimport Hidden from \"@material-ui/core/Hidden\";\n\n// pages\nimport Home from \"../../pages/Home\";\nimport People from \"../../pages/People/\";\nimport Profile from \"../../pages/Profile\";\nimport Message from \"../../pages/Message\";\n\nimport AppHeader from \"./AppHeader/AppHeader\";\nimport { Grid, makeStyles, CssBaseline, Drawer } from \"@material-ui/core\";\nimport { PageContainer } from \"../pageContainer\";\n\nconst appLayoutStyles = makeStyles((theme) => ({\n  \"@global\": {\n    \"*::-webkit-scrollbar\": {\n      width: \"0.4em\",\n      height: \"0.4em\",\n    },\n    \"*::-webkit-scrollbar-thumb\": {\n      backgroundColor: \"rgba(0,0,0,.4)\",\n      outline: \"1px solid slategrey\",\n    },\n  },\n\n  middle: {\n    paddingTop: 80,\n    height: \"100vh\",\n    paddingLeft: 256,\n    // overflow: \"auto\",\n    // backgroundColor: colors.lightGrey,\n    paddingRight: 25,\n    [theme.breakpoints.down(\"sm\")]: {\n      padding: 0,\n    },\n  },\n  extreme: {\n    paddingTop: 60,\n    backgroundColor: appColors.black,\n    position: \"relative\",\n  },\n  desktopDrawer: {\n    top: 70,\n    height: \"calc(100% - 64px)\",\n    width: 256,\n    zIndex: 100,\n  },\n  grid: {\n    height: \"100%\",\n  },\n}));\n\n/**\n *\n *\n */\nconst AppLayout = ({ authUser }) => {\n  const [, dispatch] = useStore();\n\n  const classes = appLayoutStyles();\n  const m = `${Routes.MESSAGE}/1`;\n\n  useEffect(() => {\n    dispatch({\n      type: SET_AUTH_USER,\n      payload: authUser,\n    });\n  }, [authUser, dispatch]); // dispatch and authUser used as the effect dependencies\n\n  return (\n    <>\n      <AppHeader />\n\n      <div className={classes.root}>\n        <CssBaseline />\n        <Grid container className={classes.grid}>\n          {/* hidden on mobile */}\n          <Hidden smDown>\n            <Drawer\n              open\n              variant=\"persistent\"\n              classes={{ paper: classes.desktopDrawer }}\n            >\n              <Navigation />\n            </Drawer>\n          </Hidden>\n\n          {/* Middle */}\n          <Grid item xl={10} lg={12} xs={12} className={classes.middle}>\n            <PageContainer>\n              <Switch>\n                <Route exact path={Routes.HOME} render={() => <Home />} />\n                <Route exact path={Routes.PEOPLE} render={() => <People />} />\n                <Route exact path={Routes.PROFILE} render={() => <Profile />} />\n                <Route exact path={Routes.MESSAGE} render={() => <Message />} />\n\n                {/* redirect to  message for development purpose */}\n                {/* <Redirect to={Routes.MESSAGE} /> */}\n              </Switch>\n            </PageContainer>\n          </Grid>\n        </Grid>\n      </div>\n    </>\n  );\n};\n\n// give AppLayout access to path, location and history\n// we'll use location to access location.pathname\nexport default withRouter(AppLayout);\n","const { withStyles, TextField, createMuiTheme } = require(\"@material-ui/core\");\nconst theme = createMuiTheme();\n\nexport default withStyles({\n  root: {\n    marginTop: theme.spacing(2),\n    width: \"100%\",\n  },\n})(TextField);\n","const { makeStyles } = require(\"@material-ui/core\");\n\nexport const formStyles = makeStyles((theme) => ({\n    paper:{\n        paddingTop: theme.spacing(4),\n        display: \"flex\",\n        flexDirection:\"column\",\n        alignItems: \"center\",\n    },\n    form:{\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"35%\",\n        [theme.breakpoints.down('xs')]: {\n            width: \"100%\"\n        }\n    },\n    submit: {\n        marginTop: theme.spacing(2),\n        color: theme.palette.secondary.main,\n        [theme.breakpoints.up('md')]: {\n            height: '45px'\n        }\n    },\n    signupText:{\n        marginTop: theme.spacing(1),\n        marginBottom: -10,\n    },\n    subText: {\n        color: theme.palette.primary.light\n    }\n}));","\n/**\n * validate input fields\n * returns one error at a time\n * \n * @param {obj} fields \n */\n\n\nconst validate = fields => {\n    const { fullName, email, username, password } = fields;\n\n    const emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\n    const usernameRegex = /^(?!.*\\.\\.)(?!.*\\.$)[^\\W][\\w.]{0,29}$/;\n\n    // fields should not be empty\n    if(!fullName || !email || !username || !password){\n        return `Please provide a value for each field`;\n    }\n\n    // email should be valid\n    if(!emailRegex.test(String(email).toLocaleLowerCase())){\n        return `Invalid email`\n    }\n\n    if(!usernameRegex.test(String(username))){\n        return `You may have entered some invalid characters for your username`\n    } else if(username.length > 15 || fullName.length > 15){\n        return `Username and full Name can't contain more than 15 characters`\n    }\n\n    if(password.length < 7){\n        return `Password should be at least 7 characters`\n    }\n\n    return false;\n}\n\nexport default validate;","import React, { useState } from \"react\";\nimport { useMutation } from \"@apollo/client\";\nimport { SIGN_UP } from \"../../graphql/user\";\nimport * as Routes from \"../../routes\";\nimport { Button, CssBaseline, Toolbar, Typography } from \"@material-ui/core\";\n\n// styles\nimport { MainContainer } from \"../../components/Layout\";\nimport TextField from \"../../components/TextField\";\nimport { formStyles } from \"../../styles/formStyles\";\n\n// utils\nimport validate from \"../../utils/validate\";\n\n// routes\nimport { Link, withRouter } from \"react-router-dom\";\nimport { SIGNIN } from \"../../routes\";\n\nconst SignUp = ({ refetch, location, history }) => {\n  const [values, setValues] = useState({\n    fullName: \"\",\n    username: \"\",\n    email: \"\",\n    password: \"\",\n  });\n  const [error, setError] = useState(\"\");\n  const { fullName, username, email, password } = values;\n  const [signup, { loading }] = useMutation(SIGN_UP);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const error = validate(values);\n    if (error) {\n      setError(error);\n      return false;\n    }\n\n    try {\n      const response = await signup({\n        variables: {\n          input: {\n            fullName,\n            username,\n            email,\n            password,\n          },\n        },\n      });\n      console.log(response.data);\n      setError(\"\");\n      console.log(`response: ${response.data},\n              loading: ${loading},\n              error: ${error}\n            `);\n      // save signupToken in localstorate\n      localStorage.setItem(\"token\", response.data.signup.signupToken);\n      refetch();\n      history.push(Routes.HOME);\n    } catch (error) {\n      if (!error.graphQLErrors) {\n        return;\n      }\n      setError(error.graphQLErrors[0].message);\n      console.log(error.graphQLErrors[0].message);\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setValues({\n      ...values,\n      [name]: value,\n    });\n  };\n\n  const classes = formStyles();\n\n  return (\n    <>\n      <MainContainer>\n        <CssBaseline />\n\n        <div className={classes.paper}>\n          {error}\n          <Typography variant=\"h6\" className={classes.signupText}>\n            SIGN UP\n          </Typography>\n          <hr />\n\n          <form\n            className={classes.form}\n            onSubmit={(e) => handleSubmit(e, signup)}\n          >\n            <TextField\n              type=\"text\"\n              onChange={handleChange}\n              name=\"fullName\"\n              value={fullName}\n              variant=\"outlined\"\n              label=\"Fullname\"\n            />\n            <TextField\n              type=\"text\"\n              onChange={handleChange}\n              name=\"email\"\n              value={email}\n              variant=\"outlined\"\n              label=\"email\"\n            />\n            <TextField\n              type=\"text\"\n              onChange={handleChange}\n              name=\"username\"\n              value={username}\n              label=\"User name\"\n              variant=\"outlined\"\n            />\n            <TextField\n              type=\"password\"\n              onChange={handleChange}\n              name=\"password\"\n              value={password}\n              label=\"password\"\n              variant=\"outlined\"\n            />\n            <Button\n              variant=\"contained\"\n              className={classes.submit}\n              color=\"primary\"\n              type=\"submit\"\n            >\n              Submit\n            </Button>{\" \"}\n            <br />\n            <Typography>\n              Already have an account? <Link to={SIGNIN}> Sign In</Link>\n            </Typography>\n          </form>\n        </div>\n      </MainContainer>\n    </>\n  );\n};\n\nexport default withRouter(SignUp);\n","import React, { useState, useEffect } from \"react\";\nimport { useMutation } from \"@apollo/client\";\nimport { SIGN_IN } from \"../../graphql/user\";\nimport * as Routes from \"../../routes\";\n\nimport PropTypes from \"prop-types\";\n\n// components\nimport TextField from \"../../components/TextField\";\nimport { Button, Typography } from \"@material-ui/core\";\nimport { MainContainer } from \"../../components/Layout\";\nimport { formStyles } from \"../../styles/formStyles\";\nimport { Link, withRouter } from \"react-router-dom\";\n\nconst SignIn = ({ location, history, refetch }) => {\n  const [error, setError] = useState(\"\");\n  const [values, setValues] = useState({\n    emailOrUsername: \"\",\n    password: \"\",\n  });\n\n  const { emailOrUsername, password } = values;\n  const [signin] = useMutation(SIGN_IN);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await signin({\n        variables: { input: { emailOrUsername, password } },\n      });\n      refetch();\n      history.push(Routes.HOME);\n\n      console.log(response.data);\n      localStorage.setItem(\"token\", response.data.signin.signinToken);\n      setError(\"\");\n    } catch (err) {\n      console.log(err);\n      console.log(err.graphQLErrors[0].message);\n      setError(err.graphQLErrors[0].message);\n    }\n  };\n\n  // empty error when location changes\n  useEffect(() => {\n    setError(\"\");\n  }, [location.pathname]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setValues({\n      ...values,\n      [name]: value,\n    });\n    console.log(name, value);\n  };\n\n  const classes = formStyles();\n\n  return (\n    <>\n      <MainContainer>\n        <div className={classes.paper}>\n          {error}\n          <Typography variant=\"h6\">SIGN IN</Typography>\n          <form\n            onSubmit={(e) => handleSubmit(e, signin)}\n            className={classes.form}\n          >\n            <TextField\n              type=\"text\"\n              onChange={handleChange}\n              name=\"emailOrUsername\"\n              value={emailOrUsername}\n              variant=\"outlined\"\n              label=\"username or email\"\n            />\n            <TextField\n              type=\"password\"\n              onChange={handleChange}\n              name=\"password\"\n              value={password}\n              variant=\"outlined\"\n              label=\"password\"\n            />\n            <Button\n              className={classes.submit}\n              variant=\"contained\"\n              type=\"submit\"\n              color=\"primary\"\n            >\n              LOGIN\n            </Button>{\" \"}\n            <br />\n            <Typography>\n              Don't have an acount? <Link to={Routes.SIGNUP}> Sign up </Link>\n            </Typography>\n            <Typography>\n              Forgot Password ?{\" \"}\n              <Link to={Routes.FORGOT_PASSWORD}> Reset Password </Link>\n            </Typography>\n          </form>\n        </div>\n      </MainContainer>\n    </>\n  );\n};\n\nSignIn.prototype = {\n  history: PropTypes.object.isRequired,\n  refetch: PropTypes.func.isRequired,\n};\n\nexport default withRouter(SignIn);\n","import React, { useState } from \"react\";\nimport { useMutation } from \"@apollo/client\";\nimport { formStyles } from \"../../styles/formStyles\";\nimport { MainContainer } from \"../../components/Layout\";\nimport TextField from \"../../components/TextField\";\nimport { Button, Typography } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport * as Routes from \"../../routes\";\nimport { REQUEST_PASS_RESET } from \"../../graphql/user\";\n\nconst ForgotPassword = () => {\n  const text = `We will email you a link to reset your password`;\n\n  const [email, setEmail] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const [subText, setSubText] = useState(text);\n  const [requestPassReset, { loading }] = useMutation(REQUEST_PASS_RESET);\n\n  const handleChange = (e) => {\n    const { value } = e.target;\n    setEmail(value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!email) return setError(`Please enter your email`);\n\n    try {\n      const result = await requestPassReset({\n        variables: { input: { email } },\n      });\n      console.log(result);\n      setSubText(`EMAIL SENT`);\n      setError(result.data.requestPassReset.message);\n    } catch (error) {\n      setError(error.graphQLErrors[0].message);\n    }\n  };\n\n  const classes = formStyles();\n\n  return (\n    <>\n      <MainContainer>\n        <div className={classes.paper}>\n          {error}\n          <Typography variant=\"h6\" style={{ marginBottom: \"20px\" }}>\n            REQUEST PASSWORD RESET\n          </Typography>\n          <Typography align=\"center\" className={classes.subText}>\n            {subText}\n          </Typography>\n\n          <form\n            onSubmit={(e) => handleSubmit(e, requestPassReset)}\n            className={classes.form}\n          >\n            <TextField\n              label=\"email\"\n              variant=\"outlined\"\n              onChange={handleChange}\n            />\n            <Button\n              disabled={loading}\n              type=\"submit\"\n              className={classes.submit}\n              color=\"primary\"\n              variant=\"contained\"\n            >\n              Request Password Reset\n            </Button>{\" \"}\n            <br />\n            <Typography>\n              <Link to={Routes.SIGNIN}>Let me retry to login</Link>\n            </Typography>\n          </form>\n        </div>\n      </MainContainer>\n    </>\n  );\n};\nexport default ForgotPassword;\n","import React from \"react\";\nimport AppInfo from \"../../constants/AppInfo.json\";\nconst { AppBar, Toolbar, Typography } = require(\"@material-ui/core\");\n\n/**\n * App header when user is not authenticated\n */\n\nexport default () => {\n  return (\n    <AppBar>\n      <Toolbar>\n        <Typography varaiant=\"h4\">{AppInfo.name}</Typography>\n      </Toolbar>\n    </AppBar>\n  );\n};\n","import { useMutation, useQuery } from \"@apollo/client\";\nimport { Button, Typography } from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport { MainContainer } from \"../../components/Layout\";\nimport { formStyles } from \"../../styles/formStyles\";\nimport TextField from \"../../components/TextField\";\nimport {\n  RESET_PASSWORD,\n  VERIFY_RESET_PASSWORD_TOKEN,\n} from \"../../graphql/user\";\nimport AuthHeader from \"./AuthHeader\";\n\nconst ResetPassword = ({ location }) => {\n  const url = new URLSearchParams(location.search);\n  const email = url.get(\"email\");\n  const token = url.get(\"passwordResetToken\");\n\n  const [errors, setErrors] = useState(\"\");\n\n  //   validate email and token\n  // error is the value returned,\n  // we assign it to the queryError variable\n  const { _, error } = useQuery(VERIFY_RESET_PASSWORD_TOKEN, {\n    variables: { email, token },\n  });\n\n  const [resetPassword, { loading: mutationLoading }] = useMutation(\n    RESET_PASSWORD\n  );\n\n  const [values, setValues] = useState({\n    newPassword: \"\",\n    passwordConfirmation: \"\",\n  });\n  const { newPassword, passwordConfirmation } = values;\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setValues({\n      ...values,\n      [name]: value,\n    });\n    console.log(name, value);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const result = await resetPassword({\n        variables: {\n          input: {\n            email: email,\n            password: newPassword,\n            passwordResetToken: token,\n          },\n        },\n      });\n      console.log(result.data);\n      setErrors(\"Password Successfully Reset\");\n    } catch (error) {\n      console.log(error);\n      setErrors(error.graphQLErrors[0].message);\n    }\n  };\n\n  const classes = formStyles();\n\n  return (\n    <>\n      <MainContainer>\n        <div className={classes.paper}>\n          {errors}\n          <Typography>RESET PASSWORD</Typography>\n          <form\n            className={classes.form}\n            onSubmit={(e) => handleSubmit(e, resetPassword)}\n          >\n            <TextField\n              variant=\"outlined\"\n              name=\"newPassword\"\n              value={newPassword}\n              label=\"new password\"\n              onChange={handleChange}\n            />\n\n            <TextField\n              variant=\"outlined\"\n              name=\"passwordConfirmation\"\n              value={passwordConfirmation}\n              label=\"confirm password\"\n              onChange={handleChange}\n            />\n            <Button\n              className={classes.submit}\n              variant=\"contained\"\n              color=\"primary\"\n              type=\"sumbit\"\n              disabled={mutationLoading}\n            >\n              RESET PASSWORD\n            </Button>\n          </form>\n        </div>\n      </MainContainer>\n    </>\n  );\n};\n\nexport default ResetPassword;\n","import React from \"react\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport * as Routes from \"../../routes\";\n\n// Auth pages\nimport SignUp from \"./SignUp\";\nimport SignIn from \"./SignIn\";\nimport ForgotPassword from \"./ForgotPassword\";\nimport ResetPassword from \"./ResetPassword\";\nimport AuthHeader from \"./AuthHeader\";\n/**\n * The Auth layout returns routes for user authentication\n * meaning when not signed in (signin/signup/reset password)\n */\n\nconst AuthLayout = ({ refetch }) => {\n  return (\n    <>\n      <AuthHeader />\n      <Switch>\n        <Route\n          exact\n          path={Routes.SIGNUP}\n          render={() => <SignUp refetch={refetch} />}\n        />\n        <Route\n          exact\n          path={Routes.SIGNIN}\n          render={() => <SignIn refetch={refetch} />}\n        />\n        <Route\n          exact\n          path={Routes.FORGOT_PASSWORD}\n          render={() => <ForgotPassword />}\n        />\n        <Route exact path={Routes.RESET_PASSWORD} component={ResetPassword} />\n        <Redirect to={Routes.SIGNIN} />\n      </Switch>\n    </>\n  );\n};\n\nexport default AuthLayout;\n","import { useEffect } from \"react\";\nimport { withRouter } from \"react-router-dom\";\n/**\n * scroll to the top of any component rendered\n *\n * @param {component} children wrapped component\n */\nfunction ScrollTop({ children, location: { pathname } }) {\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return children || null;\n}\n\nexport default withRouter(ScrollTop);\n","import { gql } from '@apollo/client';\n\n\nexport const GET_USER_NOTIFICATIONS = gql`\n    query($userId:ID!, $skip:Int, $limit:Int){\n        getUserNotifications(userId: $userId, skip:$skip, limit:$limit){\n            count\n            notifications\n        }\n    }\n`\n\nexport const CREATE_NOTIFICATION = gql`\n    mutation($input: CreateNotificationInput!){\n        createNotification(input: $input){\n            id\n        }\n    }\n`\n\nexport const DELETE_NOTIFICATION = gql`\n    mutation($input: DeleteNotificationInput!){\n        deleteNotification(input: $input){\n            id\n        }\n    }\n`\n\nexport const NOTIFICATION_CREATED_OR_DELETED = gql`\n    subscription{\n        notificationCreatedOrDeleted{\n            operation\n            notification{\n                id\n                sender{\n                    id\n                    fullName\n                    email\n                    username\n                }\n            }\n        }\n    }\n`","import { createMuiTheme } from '@material-ui/core';\nimport { palette } from './theme';\n\n/**\n * \n * @param {string} SELECTED_COLOR_SCHEME LIGH or DARK color scheme\n */\nexport const getMuiTheme = SELECTED_COLOR_SCHEME => createMuiTheme({\n    palette: palette[SELECTED_COLOR_SCHEME],\n    overrides: {\n        MuiBadge: {\n            colorSecondary:{\n                color: \"white\",\n                backgroundColor: \"#dc0d0d\"\n            }\n        }\n    },\n});","import React, { useEffect } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n//layouts\nimport AppLayout from \"./AppLayout\";\nimport AuthLayout from \"../../pages/Auth/AuthLayout\";\nimport { GET_AUTH_USER } from \"../../graphql/user\";\nimport { useQuery } from \"@apollo/client\";\nimport ScrollTop from \"./ScrollTop\";\nimport { NOTIFICATION_CREATED_OR_DELETED } from \"../../graphql/notification\";\n\n/**\n * as the app top level component\n * we render everything inside BrowserRouter\n */\n\n/**\n * root component of our front-end\n * responsible for global authentication\n * and rendering app global layout\n */\n\n/**\n * @AuthLayout for unauthenticated user\n * @AppLayout for authenticated user        {!loading && data.getAuthUser ? (\n          <Route exact render={() => <AppLayout authUser={data.getAuthUser} />}  />\n        ) : (\n          <Route exact render={() => <AuthLayout refetch={refetch} />} />\n        )}\n */\n\n/**\n * @AuthUser render layouts based on\n * user auth\n */\n\nconst App = () => {\n  const { loading, data, error, subscribeToMore, refetch } = useQuery(\n    GET_AUTH_USER\n  );\n  console.log(\"AUTH USER\", data);\n\n  // we use subscribeToMore to execute our subscriptions\n  // and push updates to the original query result (data.getAuthUser)\n  useEffect(() => {\n    // unsubscribe var handles subscriptions\n    const unsubscribe = subscribeToMore({\n      document: NOTIFICATION_CREATED_OR_DELETED,\n      updateQuery: (prev, { subscriptionData }) => {\n        //first result is cached in prev\n        if (!subscriptionData.data) return prev;\n        let {\n          operation,\n          notification,\n        } = subscriptionData.data.notificationCreatedOrDeleted;\n\n        // combine new and previous notifications\n        let newNotifications = [\n          notification,\n          ...prev.getAuthUser.notifications,\n        ];\n\n        // dont notifify users if they are already on the notification page\n        if (operation === \"CREATE\") {\n          const currentWindow = window.location.href.split(\"/\")[3];\n          if (currentWindow === \"notifications\") return prev;\n        }\n\n        if (operation === \"DELETE\") {\n          console.log(\"THE NOTIFICATION :\", notification);\n          let oldNotifications = prev.getAuthUser.notifications;\n          // find the notification index and remove it\n          let index = oldNotifications.findIndex(\n            (n) => n.id === notification.id\n          );\n          if (index > -1) {\n            oldNotifications.splice(index, 1);\n            console.log(\"INDEX: \", index, \"should spliced\");\n          }\n          let notifications = oldNotifications;\n\n          // reassign notifications (with the deletion)\n          newNotifications = notifications;\n        }\n\n        // attach new notifications to authUser\n        let authUser = prev.getAuthUser;\n        authUser.notifications = newNotifications;\n\n        // reassign the inial query\n        return { getAuthUser: authUser };\n      },\n    });\n\n    // clean up\n    return () => {\n      unsubscribe();\n    };\n  }, [subscribeToMore]);\n\n  return (\n    <Router>\n      <Switch>\n        <ScrollTop>\n          {!loading && data.getAuthUser ? ( //authUser prop is available on the layout\n            <Route\n              exact\n              render={() => <AppLayout authUser={data.getAuthUser} />}\n            />\n          ) : (\n            <Route exact render={() => <AuthLayout refetch={refetch} />} />\n          )}\n        </ScrollTop>\n      </Switch>\n    </Router>\n  );\n};\n\nexport default App;\n\n//use exact to disable the partial matching\n// of the route\n\n// instead of manually redirect the user\n// after login we use the refetch method to refresh\n// the page...\n// once the token is detected we render the\n// <AppLayout> Layout\n","// That's the very root of the app\nimport React from 'react';\nimport { render } from 'react-dom';\nimport { ApolloProvider } from '@apollo/client';\nimport { createApolloClient } from './utils/createApolloClient';\n\n\n// root component\nimport App from './components/App/App';\n\nimport { StoreProvider } from './store/store';\nimport { MuiThemeProvider } from '@material-ui/core';\nimport { getMuiTheme } from './utils/getMuiTheme';\n\nconst SELECTED_COLOR_SCHEME = 'LIGHT';\nconst theme = getMuiTheme(SELECTED_COLOR_SCHEME);\n\n// http and websockekt links\nconst apiUrl = \"http://localhost:8080/graphql\"\nconst webSocketApiUrl = \"ws://localhost:8080/graphql\"\nconst client = createApolloClient(apiUrl, webSocketApiUrl);\n\nrender(\n  <ApolloProvider client={client}>\n    <MuiThemeProvider theme={theme}>\n      <StoreProvider>\n            <App />\n        </StoreProvider>\n    </MuiThemeProvider>\n  </ApolloProvider>,\n    document.getElementById(\"root\")\n  );\n\n","module.exports = \"data:image/jpeg;base64,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\""],"sourceRoot":""}